<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>: Rails::Initializer [Rails Framework Documentation]</title>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <link href='../../rdoc-style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='class' id='wrapper'>
      <div class='header'>
        <h1 class='name'>
          <span class='type'>Class</span>
          Rails::Initializer
        </h1>
        <ol class='paths'>
          <li>
            <a href="../../files/vendor/rails/railties/lib/initializer_rb.html">vendor/rails/railties/lib/initializer.rb</a>
          </li>
        </ol>
        <div class='parent'>
          Parent:
          <strong><a href="../Object.html">Object</a></strong>
        </div>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            <p>
            The <a href="Initializer.html">Initializer</a> is responsible for
            processing the <a href="../Rails.html">Rails</a> configuration, such as
            setting the $LOAD_PATH, requiring the right frameworks, initializing
            logging, and more. It can be run either as a single command that&#8217;ll
            just use the default configuration, like this:
            </p>
            <pre>Rails::Initializer.run</pre>
            <p>
            But normally it&#8217;s more interesting to pass in a custom configuration
            through the block running:
            </p>
            <pre>Rails::Initializer.run do |config|&#x000A;  config.frameworks -= [ :action_mailer ]&#x000A;end</pre>
            <p>
            This will use the default configuration options from <a
            href="Configuration.html">Rails::Configuration</a>, but allow for
            overwriting on select areas.
            </p>
          </div>
          <div id='method-list'>
            <h2>Methods</h2>
            <h3>public class</h3>
            <ol>
              <li><a href="#M002783">new</a></li>
              <li><a href="#M002782">run</a></li>
            </ol>
            <h3>public instance</h3>
            <ol>
              <li><a href="#M002793">add_gem_load_paths</a></li>
              <li><a href="#M002792">add_plugin_load_paths</a></li>
              <li><a href="#M002791">add_support_load_paths</a></li>
              <li><a href="#M002817">after_initialize</a></li>
              <li><a href="#M002795">check_gem_dependencies</a></li>
              <li><a href="#M002785">check_ruby_version</a></li>
              <li><a href="#M002820">disable_dependency_loading</a></li>
              <li><a href="#M002805">initialize_cache</a></li>
              <li><a href="#M002803">initialize_database</a></li>
              <li><a href="#M002804">initialize_database_middleware</a></li>
              <li><a href="#M002811">initialize_dependency_mechanism</a></li>
              <li><a href="#M002802">initialize_encoding</a></li>
              <li><a href="#M002806">initialize_framework_caches</a></li>
              <li><a href="#M002808">initialize_framework_logging</a></li>
              <li><a href="#M002816">initialize_framework_settings</a></li>
              <li><a href="#M002809">initialize_framework_views</a></li>
              <li><a href="#M002814">initialize_i18n</a></li>
              <li><a href="#M002807">initialize_logger</a></li>
              <li><a href="#M002815">initialize_metal</a></li>
              <li><a href="#M002810">initialize_routing</a></li>
              <li><a href="#M002813">initialize_time_zone</a></li>
              <li><a href="#M002812">initialize_whiny_nils</a></li>
              <li><a href="#M002786">install_gem_spec_stubs</a></li>
              <li><a href="#M002801">load_application_classes</a></li>
              <li><a href="#M002818">load_application_initializers</a></li>
              <li><a href="#M002798">load_environment</a></li>
              <li><a href="#M002794">load_gems</a></li>
              <li><a href="#M002799">load_observers</a></li>
              <li><a href="#M002796">load_plugins</a></li>
              <li><a href="#M002800">load_view_paths</a></li>
              <li><a href="#M002797">plugin_loader</a></li>
              <li><a href="#M002790">preload_frameworks</a></li>
              <li><a href="#M002819">prepare_dispatcher</a></li>
              <li><a href="#M002784">process</a></li>
              <li><a href="#M002789">require_frameworks</a></li>
              <li><a href="#M002788">set_autoload_paths</a></li>
              <li><a href="#M002787">set_load_path</a></li>
            </ol>
          </div>
          <div id='section'>
            <div id='attribute-list'>
              <h2 class='section-bar'>Attributes</h2>
              <div class='name-list'>
                <table>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>configuration</td>
                    <td class='context-item-value'>[R]</td>
                    <td class='context-item-desc'>
                      
                      The <a href="Configuration.html">Configuration</a> instance used by this <a
                      href="Initializer.html">Initializer</a> instance.
                    </td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>gems_dependencies_loaded</td>
                    <td class='context-item-value'>[R]</td>
                    <td class='context-item-desc'>
                      
                      Whether or not all the gem dependencies have been met
                    </td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>loaded_plugins</td>
                    <td class='context-item-value'>[R]</td>
                    <td class='context-item-desc'>
                      
                      The set of loaded plugins.
                    </td>
                  </tr>
                </table>
              </div>
            </div>
            <div id='methods'>
              <h2>Public class methods</h2>
              <div class='method public-class' id='method-M002783'>
                <a name='M002783'></a>
                <div class='synopsis'>
                  <span class='name'>new</span>
                  <span class='arguments'>(configuration)</span>
                </div>
                <div class='description'>
                  <p>
                  Create a new <a href="Initializer.html">Initializer</a> instance that
                  references the given <a href="Configuration.html">Configuration</a>
                  instance.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002783-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002783-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 119</span>&#x000A;119:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">configuration</span>)&#x000A;120:       <span class="ruby-ivar">@configuration</span> = <span class="ruby-identifier">configuration</span>&#x000A;121:       <span class="ruby-ivar">@loaded_plugins</span> = []&#x000A;122:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-class' id='method-M002782'>
                <a name='M002782'></a>
                <div class='synopsis'>
                  <span class='name'>run</span>
                  <span class='arguments'>(command = :process, configuration = Configuration.new) {|configuration if block_given?| ...}</span>
                </div>
                <div class='description'>
                  <p>
                  Runs the initializer. By default, this will invoke the <a
                  href="Initializer.html#M002784">process</a> method, which simply executes
                  all of the initialization routines. Alternately, you can specify explicitly
                  which initialization routine you want:
                  </p>
                  <pre>Rails::Initializer.run(:set_load_path)</pre>
                  <p>
                  This is useful if you only want the load path initialized, without
                  incurring the overhead of completely loading the entire environment.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002782-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002782-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 110</span>&#x000A;110:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">run</span>(<span class="ruby-identifier">command</span> = <span class="ruby-identifier">:process</span>, <span class="ruby-identifier">configuration</span> = <span class="ruby-constant">Configuration</span>.<span class="ruby-identifier">new</span>)&#x000A;111:       <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">configuration</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>&#x000A;112:       <span class="ruby-identifier">initializer</span> = <span class="ruby-identifier">new</span> <span class="ruby-identifier">configuration</span>&#x000A;113:       <span class="ruby-identifier">initializer</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">command</span>)&#x000A;114:       <span class="ruby-identifier">initializer</span>&#x000A;115:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <h2>Public instance methods</h2>
              <div class='method public-instance' id='method-M002793'>
                <a name='M002793'></a>
                <div class='synopsis'>
                  <span class='name'>add_gem_load_paths</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002793-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002793-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 296</span>&#x000A;296:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_gem_load_paths</span>&#x000A;297:       <span class="ruby-constant">Rails</span><span class="ruby-operator">::</span><span class="ruby-constant">GemDependency</span>.<span class="ruby-identifier">add_frozen_gem_path</span>&#x000A;298:       <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@configuration</span>.<span class="ruby-identifier">gems</span>.<span class="ruby-identifier">empty?</span>&#x000A;299:         <span class="ruby-identifier">require</span> <span class="ruby-value str">&quot;rubygems&quot;</span>&#x000A;300:         <span class="ruby-ivar">@configuration</span>.<span class="ruby-identifier">gems</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">gem</span><span class="ruby-operator">|</span> <span class="ruby-identifier">gem</span>.<span class="ruby-identifier">add_load_paths</span> }&#x000A;301:       <span class="ruby-keyword kw">end</span>&#x000A;302:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002792'>
                <a name='M002792'></a>
                <div class='synopsis'>
                  <span class='name'>add_plugin_load_paths</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Adds all load paths from plugins to the global set of load paths, so that
                  code from plugins can be required (explicitly or automatically via
                  ActiveSupport::Dependencies).
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002792-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002792-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 292</span>&#x000A;292:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_plugin_load_paths</span>&#x000A;293:       <span class="ruby-identifier">plugin_loader</span>.<span class="ruby-identifier">add_plugin_load_paths</span>&#x000A;294:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002791'>
                <a name='M002791'></a>
                <div class='synopsis'>
                  <span class='name'>add_support_load_paths</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Add the load paths used by support functions such as the info controller
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002791-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002791-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 287</span>&#x000A;287:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_support_load_paths</span>&#x000A;288:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002817'>
                <a name='M002817'></a>
                <div class='synopsis'>
                  <span class='name'>after_initialize</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Fires the user-supplied <a
                  href="Initializer.html#M002817">after_initialize</a> block (<a
                  href="Configuration.html#M002834">Configuration#after_initialize</a>)
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002817-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002817-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 591</span>&#x000A;591:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">after_initialize</span>&#x000A;592:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">gems_dependencies_loaded</span>&#x000A;593:         <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">after_initialize_blocks</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">block</span><span class="ruby-operator">|</span>&#x000A;594:           <span class="ruby-identifier">block</span>.<span class="ruby-identifier">call</span>&#x000A;595:         <span class="ruby-keyword kw">end</span>&#x000A;596:       <span class="ruby-keyword kw">end</span>&#x000A;597:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002795'>
                <a name='M002795'></a>
                <div class='synopsis'>
                  <span class='name'>check_gem_dependencies</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002795-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002795-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 310</span>&#x000A;310:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_gem_dependencies</span>&#x000A;311:       <span class="ruby-identifier">unloaded_gems</span> = <span class="ruby-ivar">@configuration</span>.<span class="ruby-identifier">gems</span>.<span class="ruby-identifier">reject</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">g</span><span class="ruby-operator">|</span> <span class="ruby-identifier">g</span>.<span class="ruby-identifier">loaded?</span> }&#x000A;312:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">unloaded_gems</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>&#x000A;313:         <span class="ruby-ivar">@gems_dependencies_loaded</span> = <span class="ruby-keyword kw">false</span>&#x000A;314:         <span class="ruby-comment cmt"># don't print if the gems rake tasks are being run</span>&#x000A;315:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">$gems_rake_task</span>&#x000A;316:           <span class="ruby-identifier">abort</span> <span class="ruby-value str">&quot;Missing these required gems:\n\#{unloaded_gems.map { |gem| \&quot;\#{gem.name}  \#{gem.requirement}\&quot; } * \&quot;\\n  \&quot;}\n\nYou're running:\nruby \#{Gem.ruby_version} at \#{Gem.ruby}\nrubygems \#{Gem::RubyGemsVersion} at \#{Gem.path * ', '}\n\nRun `rake gems:install` to install the missing gems.\n&quot;</span>&#x000A;317:         <span class="ruby-keyword kw">end</span>&#x000A;318:       <span class="ruby-keyword kw">else</span>&#x000A;319:         <span class="ruby-ivar">@gems_dependencies_loaded</span> = <span class="ruby-keyword kw">true</span>&#x000A;320:       <span class="ruby-keyword kw">end</span>&#x000A;321:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002785'>
                <a name='M002785'></a>
                <div class='synopsis'>
                  <span class='name'>check_ruby_version</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Check for valid Ruby version This is done in an external file, so we can
                  use it from the `rails` program as well without duplication.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002785-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002785-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 207</span>&#x000A;207:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_ruby_version</span>&#x000A;208:       <span class="ruby-identifier">require</span> <span class="ruby-value str">'ruby_version_check'</span>&#x000A;209:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002820'>
                <a name='M002820'></a>
                <div class='synopsis'>
                  <span class='name'>disable_dependency_loading</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002820-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002820-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 614</span>&#x000A;614:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">disable_dependency_loading</span>&#x000A;615:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">cache_classes</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">dependency_loading</span>&#x000A;616:         <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">unhook!</span>&#x000A;617:       <span class="ruby-keyword kw">end</span>&#x000A;618:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002805'>
                <a name='M002805'></a>
                <div class='synopsis'>
                  <span class='name'>initialize_cache</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002805-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002805-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 435</span>&#x000A;435:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize_cache</span>&#x000A;436:       <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">defined?</span>(<span class="ruby-constant">RAILS_CACHE</span>)&#x000A;437:         <span class="ruby-identifier">silence_warnings</span> { <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value str">&quot;RAILS_CACHE&quot;</span>, <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Cache</span>.<span class="ruby-identifier">lookup_store</span>(<span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">cache_store</span>) }&#x000A;438: &#x000A;439:         <span class="ruby-keyword kw">if</span> <span class="ruby-constant">RAILS_CACHE</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:middleware</span>)&#x000A;440:           <span class="ruby-comment cmt"># Insert middleware to setup and teardown local cache for each request</span>&#x000A;441:           <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">middleware</span>.<span class="ruby-identifier">insert_after</span>(<span class="ruby-identifier">:&quot;ActionController::Failsafe&quot;</span>, <span class="ruby-constant">RAILS_CACHE</span>.<span class="ruby-identifier">middleware</span>)&#x000A;442:         <span class="ruby-keyword kw">end</span>&#x000A;443:       <span class="ruby-keyword kw">end</span>&#x000A;444:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002803'>
                <a name='M002803'></a>
                <div class='synopsis'>
                  <span class='name'>initialize_database</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  This initialization routine does nothing unless <tt>:active_record</tt> is
                  one of the frameworks to load (Configuration#frameworks). If it is, this
                  sets the database configuration from <a
                  href="Configuration.html#M002831">Configuration#database_configuration</a>
                  and then establishes the connection.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002803-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002803-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 416</span>&#x000A;416:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize_database</span>&#x000A;417:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">frameworks</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:active_record</span>)&#x000A;418:         <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">configurations</span> = <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">database_configuration</span>&#x000A;419:         <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">establish_connection</span>&#x000A;420:       <span class="ruby-keyword kw">end</span>&#x000A;421:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002804'>
                <a name='M002804'></a>
                <div class='synopsis'>
                  <span class='name'>initialize_database_middleware</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002804-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002804-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 423</span>&#x000A;423:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize_database_middleware</span>&#x000A;424:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">frameworks</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:active_record</span>)&#x000A;425:         <span class="ruby-keyword kw">if</span> <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">session_store</span> <span class="ruby-operator">==</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">SessionStore</span>&#x000A;426:           <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">middleware</span>.<span class="ruby-identifier">insert_before</span> <span class="ruby-identifier">:&quot;ActiveRecord::SessionStore&quot;</span>, <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">ConnectionAdapters</span><span class="ruby-operator">::</span><span class="ruby-constant">ConnectionManagement</span>&#x000A;427:           <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">middleware</span>.<span class="ruby-identifier">insert_before</span> <span class="ruby-identifier">:&quot;ActiveRecord::SessionStore&quot;</span>, <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">QueryCache</span>&#x000A;428:         <span class="ruby-keyword kw">else</span>&#x000A;429:           <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">middleware</span>.<span class="ruby-identifier">use</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">ConnectionAdapters</span><span class="ruby-operator">::</span><span class="ruby-constant">ConnectionManagement</span>&#x000A;430:           <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">middleware</span>.<span class="ruby-identifier">use</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">QueryCache</span>&#x000A;431:         <span class="ruby-keyword kw">end</span>&#x000A;432:       <span class="ruby-keyword kw">end</span>&#x000A;433:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002811'>
                <a name='M002811'></a>
                <div class='synopsis'>
                  <span class='name'>initialize_dependency_mechanism</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Sets the dependency loading mechanism based on the value of
                  Configuration#cache_classes.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002811-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002811-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 522</span>&#x000A;522:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize_dependency_mechanism</span>&#x000A;523:       <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">mechanism</span> = <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">cache_classes</span> <span class="ruby-value">? </span><span class="ruby-operator">:</span><span class="ruby-identifier">require</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">:load</span>&#x000A;524:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002802'>
                <a name='M002802'></a>
                <div class='synopsis'>
                  <span class='name'>initialize_encoding</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  For Ruby 1.8, this initialization sets $KCODE to &#8216;u&#8217; to enable
                  the multibyte safe operations. <a href="../Plugin.html">Plugin</a> authors
                  supporting other encodings should override this behaviour and set the
                  relevant <tt>default_charset</tt> on <a
                  href="../ActionController/Base.html">ActionController::Base</a>.
                  </p>
                  <p>
                  For Ruby 1.9, this does nothing. Specify the default encoding in the Ruby
                  shebang line if you don&#8217;t want UTF-8.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002802-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002802-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 408</span>&#x000A;408:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize_encoding</span>&#x000A;409:       <span class="ruby-identifier">$KCODE</span>=<span class="ruby-value str">'u'</span> <span class="ruby-keyword kw">if</span> <span class="ruby-constant">RUBY_VERSION</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value str">'1.9'</span>&#x000A;410:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002806'>
                <a name='M002806'></a>
                <div class='synopsis'>
                  <span class='name'>initialize_framework_caches</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002806-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002806-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 446</span>&#x000A;446:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize_framework_caches</span>&#x000A;447:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">frameworks</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:action_controller</span>)&#x000A;448:         <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">cache_store</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">RAILS_CACHE</span>&#x000A;449:       <span class="ruby-keyword kw">end</span>&#x000A;450:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002808'>
                <a name='M002808'></a>
                <div class='synopsis'>
                  <span class='name'>initialize_framework_logging</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Sets the logger for Active Record, Action Controller, and Action Mailer
                  (but only for those frameworks that are to be loaded). If the
                  framework&#8217;s logger is already set, it is not changed, otherwise it is
                  set to use RAILS_DEFAULT_LOGGER.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002808-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002808-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 488</span>&#x000A;488:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize_framework_logging</span>&#x000A;489:       <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">framework</span> <span class="ruby-keyword kw">in</span> ([ <span class="ruby-identifier">:active_record</span>, <span class="ruby-identifier">:action_controller</span>, <span class="ruby-identifier">:action_mailer</span> ] <span class="ruby-operator">&amp;</span> <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">frameworks</span>)&#x000A;490:         <span class="ruby-identifier">framework</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">camelize</span>.<span class="ruby-identifier">constantize</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-value str">&quot;Base&quot;</span>).<span class="ruby-identifier">logger</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">logger</span>&#x000A;491:       <span class="ruby-keyword kw">end</span>&#x000A;492: &#x000A;493:       <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">logger</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">logger</span>&#x000A;494:       <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">cache</span>.<span class="ruby-identifier">logger</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">logger</span>&#x000A;495:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002816'>
                <a name='M002816'></a>
                <div class='synopsis'>
                  <span class='name'>initialize_framework_settings</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Initializes framework-specific settings for each of the loaded frameworks
                  (Configuration#frameworks). The available settings map to the accessors on
                  each of the corresponding Base classes.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002816-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002816-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 577</span>&#x000A;577:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize_framework_settings</span>&#x000A;578:       <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">frameworks</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">framework</span><span class="ruby-operator">|</span>&#x000A;579:         <span class="ruby-identifier">base_class</span> = <span class="ruby-identifier">framework</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">camelize</span>.<span class="ruby-identifier">constantize</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-value str">&quot;Base&quot;</span>)&#x000A;580: &#x000A;581:         <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">framework</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">setting</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>&#x000A;582:           <span class="ruby-identifier">base_class</span>.<span class="ruby-identifier">send</span>(<span class="ruby-node">&quot;#{setting}=&quot;</span>, <span class="ruby-identifier">value</span>)&#x000A;583:         <span class="ruby-keyword kw">end</span>&#x000A;584:       <span class="ruby-keyword kw">end</span>&#x000A;585:       <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">active_support</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">setting</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>&#x000A;586:         <span class="ruby-constant">ActiveSupport</span>.<span class="ruby-identifier">send</span>(<span class="ruby-node">&quot;#{setting}=&quot;</span>, <span class="ruby-identifier">value</span>)&#x000A;587:       <span class="ruby-keyword kw">end</span>&#x000A;588:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002809'>
                <a name='M002809'></a>
                <div class='synopsis'>
                  <span class='name'>initialize_framework_views</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Sets +<a
                  href="../ActionController/Base.html#M000644">ActionController::Base#view_paths</a>+
                  and +<a
                  href="../ActionMailer/Base.html#M001837">ActionMailer::Base#template_root</a>+
                  (but only for those frameworks that are to be loaded). If the
                  framework&#8217;s paths have already been set, it is not changed, otherwise
                  it is set to use Configuration#view_path.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002809-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002809-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 501</span>&#x000A;501:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize_framework_views</span>&#x000A;502:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">frameworks</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:action_view</span>)&#x000A;503:         <span class="ruby-identifier">view_path</span> = <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">PathSet</span>.<span class="ruby-identifier">type_cast</span>(<span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">view_path</span>)&#x000A;504:         <span class="ruby-constant">ActionMailer</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">template_root</span>  = <span class="ruby-identifier">view_path</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">frameworks</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:action_mailer</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">ActionMailer</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">view_paths</span>.<span class="ruby-identifier">blank?</span>&#x000A;505:         <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">view_paths</span> = <span class="ruby-identifier">view_path</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">frameworks</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:action_controller</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">view_paths</span>.<span class="ruby-identifier">blank?</span>&#x000A;506:       <span class="ruby-keyword kw">end</span>&#x000A;507:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002814'>
                <a name='M002814'></a>
                <div class='synopsis'>
                  <span class='name'>initialize_i18n</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Set the i18n configuration from config.i18n but special-case for the
                  load_path which should be appended to what&#8217;s already set instead of
                  overwritten.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002814-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002814-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 555</span>&#x000A;555:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize_i18n</span>&#x000A;556:       <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">i18n</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">setting</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>&#x000A;557:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">setting</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:load_path</span>&#x000A;558:           <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">load_path</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">value</span>&#x000A;559:         <span class="ruby-keyword kw">else</span>&#x000A;560:           <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">send</span>(<span class="ruby-node">&quot;#{setting}=&quot;</span>, <span class="ruby-identifier">value</span>)&#x000A;561:         <span class="ruby-keyword kw">end</span>&#x000A;562:       <span class="ruby-keyword kw">end</span>&#x000A;563:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002807'>
                <a name='M002807'></a>
                <div class='synopsis'>
                  <span class='name'>initialize_logger</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  If the RAILS_DEFAULT_LOGGER constant is already set, this initialization
                  routine does nothing. If the constant is not set, and Configuration#logger
                  is not <tt>nil</tt>, this also does nothing. Otherwise, a new logger
                  instance is created at Configuration#log_path, with a default log level of
                  Configuration#log_level.
                  </p>
                  <p>
                  If the log could not be created, the log will be set to output to
                  <tt>STDERR</tt>, with a log level of <tt>WARN</tt>.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002807-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002807-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 460</span>&#x000A;460:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize_logger</span>&#x000A;461:       <span class="ruby-comment cmt"># if the environment has explicitly defined a logger, use it</span>&#x000A;462:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">logger</span>&#x000A;463: &#x000A;464:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">logger</span> = <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">logger</span>&#x000A;465:         <span class="ruby-keyword kw">begin</span>&#x000A;466:           <span class="ruby-identifier">logger</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">BufferedLogger</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">log_path</span>)&#x000A;467:           <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">level</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">BufferedLogger</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">log_level</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span>)&#x000A;468:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">environment</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;production&quot;</span>&#x000A;469:             <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">auto_flushing</span> = <span class="ruby-keyword kw">false</span>&#x000A;470:           <span class="ruby-keyword kw">end</span>&#x000A;471:         <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">StandardError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>&#x000A;472:           <span class="ruby-identifier">logger</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">BufferedLogger</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">STDERR</span>)&#x000A;473:           <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">level</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">BufferedLogger</span><span class="ruby-operator">::</span><span class="ruby-constant">WARN</span>&#x000A;474:           <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">warn</span>(&#x000A;475:             <span class="ruby-node">&quot;Rails Error: Unable to access log file. Please ensure that #{configuration.log_path} exists and is chmod 0666. &quot;</span> <span class="ruby-operator">+</span>&#x000A;476:             <span class="ruby-value str">&quot;The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.&quot;</span>&#x000A;477:           )&#x000A;478:         <span class="ruby-keyword kw">end</span>&#x000A;479:       <span class="ruby-keyword kw">end</span>&#x000A;480: &#x000A;481:       <span class="ruby-identifier">silence_warnings</span> { <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value str">&quot;RAILS_DEFAULT_LOGGER&quot;</span>, <span class="ruby-identifier">logger</span> }&#x000A;482:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002815'>
                <a name='M002815'></a>
                <div class='synopsis'>
                  <span class='name'>initialize_metal</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002815-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002815-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 565</span>&#x000A;565:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize_metal</span>&#x000A;566:       <span class="ruby-constant">Rails</span><span class="ruby-operator">::</span><span class="ruby-constant">Rack</span><span class="ruby-operator">::</span><span class="ruby-constant">Metal</span>.<span class="ruby-identifier">requested_metals</span> = <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">metals</span>&#x000A;567:       <span class="ruby-constant">Rails</span><span class="ruby-operator">::</span><span class="ruby-constant">Rack</span><span class="ruby-operator">::</span><span class="ruby-constant">Metal</span>.<span class="ruby-identifier">metal_paths</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">plugin_loader</span>.<span class="ruby-identifier">engine_metal_paths</span>&#x000A;568: &#x000A;569:       <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">middleware</span>.<span class="ruby-identifier">insert_before</span>(&#x000A;570:         <span class="ruby-identifier">:&quot;ActionController::RewindableInput&quot;</span>,&#x000A;571:         <span class="ruby-constant">Rails</span><span class="ruby-operator">::</span><span class="ruby-constant">Rack</span><span class="ruby-operator">::</span><span class="ruby-constant">Metal</span>, <span class="ruby-identifier">:if</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Rails</span><span class="ruby-operator">::</span><span class="ruby-constant">Rack</span><span class="ruby-operator">::</span><span class="ruby-constant">Metal</span>.<span class="ruby-identifier">metals</span>.<span class="ruby-identifier">any?</span>)&#x000A;572:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002810'>
                <a name='M002810'></a>
                <div class='synopsis'>
                  <span class='name'>initialize_routing</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  If Action Controller is not one of the loaded frameworks
                  (Configuration#frameworks) this does nothing. Otherwise, it loads the
                  routing definitions and sets up loading module used to lazily load
                  controllers (Configuration#controller_paths).
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002810-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002810-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 512</span>&#x000A;512:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize_routing</span>&#x000A;513:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">frameworks</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:action_controller</span>)&#x000A;514: &#x000A;515:       <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Routing</span>.<span class="ruby-identifier">controller_paths</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">controller_paths</span>&#x000A;516:       <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Routing</span><span class="ruby-operator">::</span><span class="ruby-constant">Routes</span>.<span class="ruby-identifier">add_configuration_file</span>(<span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">routes_configuration_file</span>)&#x000A;517:       <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Routing</span><span class="ruby-operator">::</span><span class="ruby-constant">Routes</span>.<span class="ruby-identifier">reload!</span>&#x000A;518:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002813'>
                <a name='M002813'></a>
                <div class='synopsis'>
                  <span class='name'>initialize_time_zone</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Sets the default value for Time.zone, and turns on
                  ActiveRecord::Base#time_zone_aware_attributes. If assigned value cannot be
                  matched to a TimeZone, an exception will be raised.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002813-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002813-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 534</span>&#x000A;534:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize_time_zone</span>&#x000A;535:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">time_zone</span>&#x000A;536:         <span class="ruby-identifier">zone_default</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">:get_zone</span>, <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">time_zone</span>)&#x000A;537: &#x000A;538:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">zone_default</span>&#x000A;539:           <span class="ruby-identifier">raise</span> \&#x000A;540:             <span class="ruby-value str">'Value assigned to config.time_zone not recognized.'</span> <span class="ruby-operator">+</span>&#x000A;541:             <span class="ruby-value str">'Run &quot;rake -D time&quot; for a list of tasks for finding appropriate time zone names.'</span>&#x000A;542:         <span class="ruby-keyword kw">end</span>&#x000A;543: &#x000A;544:         <span class="ruby-constant">Time</span>.<span class="ruby-identifier">zone_default</span> = <span class="ruby-identifier">zone_default</span>&#x000A;545: &#x000A;546:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">frameworks</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:active_record</span>)&#x000A;547:           <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">time_zone_aware_attributes</span> = <span class="ruby-keyword kw">true</span>&#x000A;548:           <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">default_timezone</span> = <span class="ruby-identifier">:utc</span>&#x000A;549:         <span class="ruby-keyword kw">end</span>&#x000A;550:       <span class="ruby-keyword kw">end</span>&#x000A;551:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002812'>
                <a name='M002812'></a>
                <div class='synopsis'>
                  <span class='name'>initialize_whiny_nils</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Loads support for &#8220;whiny nil&#8221; (noisy warnings when methods are
                  invoked on <tt>nil</tt> values) if Configuration#whiny_nils is true.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002812-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002812-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 528</span>&#x000A;528:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize_whiny_nils</span>&#x000A;529:       <span class="ruby-identifier">require</span>(<span class="ruby-value str">'active_support/whiny_nil'</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">whiny_nils</span>&#x000A;530:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002786'>
                <a name='M002786'></a>
                <div class='synopsis'>
                  <span class='name'>install_gem_spec_stubs</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  If <a href="../Rails.html">Rails</a> is vendored and RubyGems is available,
                  install stub GemSpecs for <a href="../Rails.html">Rails</a>, Active
                  Support, Active Record, Action Pack, Action Mailer, and Active Resource.
                  This allows Gem plugins to depend on <a href="../Rails.html">Rails</a> even
                  when the Gem version of <a href="../Rails.html">Rails</a> shouldn&#8217;t
                  be loaded.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002786-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002786-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 215</span>&#x000A;215:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">install_gem_spec_stubs</span>&#x000A;216:       <span class="ruby-keyword kw">unless</span> <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:vendor_rails?</span>)&#x000A;217:         <span class="ruby-identifier">abort</span> <span class="ruby-value str">%{Your config/boot.rb is outdated: Run &quot;rake rails:update&quot;.}</span>&#x000A;218:       <span class="ruby-keyword kw">end</span>&#x000A;219: &#x000A;220:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">vendor_rails?</span>&#x000A;221:         <span class="ruby-keyword kw">begin</span>; <span class="ruby-identifier">require</span> <span class="ruby-value str">&quot;rubygems&quot;</span>; <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">LoadError</span>; <span class="ruby-keyword kw">return</span>; <span class="ruby-keyword kw">end</span>&#x000A;222: &#x000A;223:         <span class="ruby-identifier">stubs</span> = <span class="ruby-node">%w(rails activesupport activerecord actionpack actionmailer activeresource)</span>&#x000A;224:         <span class="ruby-identifier">stubs</span>.<span class="ruby-identifier">reject!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">loaded_specs</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-identifier">s</span>) }&#x000A;225: &#x000A;226:         <span class="ruby-identifier">stubs</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">stub</span><span class="ruby-operator">|</span>&#x000A;227:           <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">loaded_specs</span>[<span class="ruby-identifier">stub</span>] = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Specification</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span>&#x000A;228:             <span class="ruby-identifier">s</span>.<span class="ruby-identifier">name</span> = <span class="ruby-identifier">stub</span>&#x000A;229:             <span class="ruby-identifier">s</span>.<span class="ruby-identifier">version</span> = <span class="ruby-constant">Rails</span><span class="ruby-operator">::</span><span class="ruby-constant">VERSION</span><span class="ruby-operator">::</span><span class="ruby-constant">STRING</span>&#x000A;230:             <span class="ruby-identifier">s</span>.<span class="ruby-identifier">loaded_from</span> = <span class="ruby-value str">&quot;&quot;</span>&#x000A;231:           <span class="ruby-keyword kw">end</span>&#x000A;232:         <span class="ruby-keyword kw">end</span>&#x000A;233:       <span class="ruby-keyword kw">end</span>&#x000A;234:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002801'>
                <a name='M002801'></a>
                <div class='synopsis'>
                  <span class='name'>load_application_classes</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Eager load application classes
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002801-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002801-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 389</span>&#x000A;389:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">load_application_classes</span>&#x000A;390:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">$rails_rake_task</span>&#x000A;391:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">cache_classes</span>&#x000A;392:         <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">eager_load_paths</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">load_path</span><span class="ruby-operator">|</span>&#x000A;393:           <span class="ruby-identifier">matcher</span> = <span class="ruby-node">/\A#{Regexp.escape(load_path)}(.*)\.rb\Z/</span>&#x000A;394:           <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">glob</span>(<span class="ruby-node">&quot;#{load_path}/**/*.rb&quot;</span>).<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span>&#x000A;395:             <span class="ruby-identifier">require_dependency</span> <span class="ruby-identifier">file</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-identifier">matcher</span>, <span class="ruby-value str">'\1'</span>)&#x000A;396:           <span class="ruby-keyword kw">end</span>&#x000A;397:         <span class="ruby-keyword kw">end</span>&#x000A;398:       <span class="ruby-keyword kw">end</span>&#x000A;399:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002818'>
                <a name='M002818'></a>
                <div class='synopsis'>
                  <span class='name'>load_application_initializers</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002818-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002818-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 599</span>&#x000A;599:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">load_application_initializers</span>&#x000A;600:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">gems_dependencies_loaded</span>&#x000A;601:         <span class="ruby-constant">Dir</span>[<span class="ruby-node">&quot;#{configuration.root_path}/config/initializers/**/*.rb&quot;</span>].<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">initializer</span><span class="ruby-operator">|</span>&#x000A;602:           <span class="ruby-identifier">load</span>(<span class="ruby-identifier">initializer</span>)&#x000A;603:         <span class="ruby-keyword kw">end</span>&#x000A;604:       <span class="ruby-keyword kw">end</span>&#x000A;605:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002798'>
                <a name='M002798'></a>
                <div class='synopsis'>
                  <span class='name'>load_environment</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Loads the environment specified by <a
                  href="Configuration.html#M002832">Configuration#environment_path</a>, which
                  is typically one of development, test, or production.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002798-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002798-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 359</span>&#x000A;359:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">load_environment</span>&#x000A;360:       <span class="ruby-identifier">silence_warnings</span> <span class="ruby-keyword kw">do</span>&#x000A;361:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@environment_loaded</span>&#x000A;362:         <span class="ruby-ivar">@environment_loaded</span> = <span class="ruby-keyword kw">true</span>&#x000A;363: &#x000A;364:         <span class="ruby-identifier">config</span> = <span class="ruby-identifier">configuration</span>&#x000A;365:         <span class="ruby-identifier">constants</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">constants</span>&#x000A;366: &#x000A;367:         <span class="ruby-identifier">eval</span>(<span class="ruby-constant">IO</span>.<span class="ruby-identifier">read</span>(<span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">environment_path</span>), <span class="ruby-identifier">binding</span>, <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">environment_path</span>)&#x000A;368: &#x000A;369:         (<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">constants</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">constants</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">const</span><span class="ruby-operator">|</span>&#x000A;370:           <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span>(<span class="ruby-identifier">const</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-identifier">const</span>))&#x000A;371:         <span class="ruby-keyword kw">end</span>&#x000A;372:       <span class="ruby-keyword kw">end</span>&#x000A;373:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002794'>
                <a name='M002794'></a>
                <div class='synopsis'>
                  <span class='name'>load_gems</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002794-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002794-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 304</span>&#x000A;304:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">load_gems</span>&#x000A;305:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">$gems_build_rake_task</span>&#x000A;306:         <span class="ruby-ivar">@configuration</span>.<span class="ruby-identifier">gems</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">gem</span><span class="ruby-operator">|</span> <span class="ruby-identifier">gem</span>.<span class="ruby-identifier">load</span> }&#x000A;307:       <span class="ruby-keyword kw">end</span>&#x000A;308:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002799'>
                <a name='M002799'></a>
                <div class='synopsis'>
                  <span class='name'>load_observers</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002799-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002799-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 375</span>&#x000A;375:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">load_observers</span>&#x000A;376:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">gems_dependencies_loaded</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">frameworks</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:active_record</span>)&#x000A;377:         <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">instantiate_observers</span>&#x000A;378:       <span class="ruby-keyword kw">end</span>&#x000A;379:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002796'>
                <a name='M002796'></a>
                <div class='synopsis'>
                  <span class='name'>load_plugins</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Loads all plugins in <tt>config.plugin_paths</tt>. <tt>plugin_paths</tt>
                  defaults to <tt>vendor/plugins</tt> but may also be set to a list of paths,
                  such as
                  </p>
                  <pre>config.plugin_paths = [&quot;#{RAILS_ROOT}/lib/plugins&quot;, &quot;#{RAILS_ROOT}/vendor/plugins&quot;]</pre>
                  <p>
                  In the default implementation, as each plugin discovered in
                  <tt>plugin_paths</tt> is initialized:
                  </p>
                  <ul>
                  <li>its <tt>lib</tt> directory, if present, is added to the load path
                  (immediately after the applications lib directory)
                  
                  </li>
                  <li><tt>init.rb</tt> is evaluated, if present
                  
                  </li>
                  </ul>
                  <p>
                  After all plugins are loaded, duplicates are removed from the load path. If
                  an array of plugin names is specified in config.plugins, only those plugins
                  will be loaded and they plugins will be loaded in that order. Otherwise,
                  plugins are loaded in alphabetical order.
                  </p>
                  <p>
                  if config.plugins ends contains :all then the named plugins will be loaded
                  in the given order and all other plugins will be loaded in alphabetical
                  order
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002796-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002796-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 349</span>&#x000A;349:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">load_plugins</span>&#x000A;350:       <span class="ruby-identifier">plugin_loader</span>.<span class="ruby-identifier">load_plugins</span>&#x000A;351:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002800'>
                <a name='M002800'></a>
                <div class='synopsis'>
                  <span class='name'>load_view_paths</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002800-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002800-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 381</span>&#x000A;381:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">load_view_paths</span>&#x000A;382:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">frameworks</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:action_view</span>)&#x000A;383:         <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">view_paths</span>.<span class="ruby-identifier">load!</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">frameworks</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:action_controller</span>)&#x000A;384:         <span class="ruby-constant">ActionMailer</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">view_paths</span>.<span class="ruby-identifier">load!</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">frameworks</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:action_mailer</span>)&#x000A;385:       <span class="ruby-keyword kw">end</span>&#x000A;386:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002797'>
                <a name='M002797'></a>
                <div class='synopsis'>
                  <span class='name'>plugin_loader</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002797-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002797-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 353</span>&#x000A;353:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">plugin_loader</span>&#x000A;354:       <span class="ruby-ivar">@plugin_loader</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">plugin_loader</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>)&#x000A;355:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002790'>
                <a name='M002790'></a>
                <div class='synopsis'>
                  <span class='name'>preload_frameworks</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Preload all frameworks specified by the Configuration#frameworks. Used by
                  Passenger to ensure everything&#8217;s loaded before forking and to avoid
                  autoload race conditions in JRuby.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002790-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002790-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 276</span>&#x000A;276:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">preload_frameworks</span>&#x000A;277:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">preload_frameworks</span>&#x000A;278:         <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">frameworks</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">framework</span><span class="ruby-operator">|</span>&#x000A;279:           <span class="ruby-comment cmt"># String#classify and #constantize aren't available yet.</span>&#x000A;280:           <span class="ruby-identifier">toplevel</span> = <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-identifier">framework</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/(?:^|_)(.)/</span>) { <span class="ruby-identifier">$1</span>.<span class="ruby-identifier">upcase</span> })&#x000A;281:           <span class="ruby-identifier">toplevel</span>.<span class="ruby-identifier">load_all!</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">toplevel</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:load_all!</span>)&#x000A;282:         <span class="ruby-keyword kw">end</span>&#x000A;283:       <span class="ruby-keyword kw">end</span>&#x000A;284:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002819'>
                <a name='M002819'></a>
                <div class='synopsis'>
                  <span class='name'>prepare_dispatcher</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002819-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002819-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 607</span>&#x000A;607:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">prepare_dispatcher</span>&#x000A;608:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">frameworks</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:action_controller</span>)&#x000A;609:       <span class="ruby-identifier">require</span> <span class="ruby-value str">'dispatcher'</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">Dispatcher</span>)&#x000A;610:       <span class="ruby-constant">Dispatcher</span>.<span class="ruby-identifier">define_dispatcher_callbacks</span>(<span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">cache_classes</span>)&#x000A;611:       <span class="ruby-constant">Dispatcher</span>.<span class="ruby-identifier">run_prepare_callbacks</span>&#x000A;612:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002784'>
                <a name='M002784'></a>
                <div class='synopsis'>
                  <span class='name'>process</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Sequentially step through all of the available initialization routines, in
                  order (view execution order in source).
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002784-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002784-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 126</span>&#x000A;126:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">process</span>&#x000A;127:       <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">configuration</span> = <span class="ruby-identifier">configuration</span>&#x000A;128: &#x000A;129:       <span class="ruby-identifier">check_ruby_version</span>&#x000A;130:       <span class="ruby-identifier">install_gem_spec_stubs</span>&#x000A;131:       <span class="ruby-identifier">set_load_path</span>&#x000A;132:       <span class="ruby-identifier">add_gem_load_paths</span>&#x000A;133: &#x000A;134:       <span class="ruby-identifier">require_frameworks</span>&#x000A;135:       <span class="ruby-identifier">set_autoload_paths</span>&#x000A;136:       <span class="ruby-identifier">add_plugin_load_paths</span>&#x000A;137:       <span class="ruby-identifier">load_environment</span>&#x000A;138:       <span class="ruby-identifier">preload_frameworks</span>&#x000A;139: &#x000A;140:       <span class="ruby-identifier">initialize_encoding</span>&#x000A;141:       <span class="ruby-identifier">initialize_database</span>&#x000A;142: &#x000A;143:       <span class="ruby-identifier">initialize_cache</span>&#x000A;144:       <span class="ruby-identifier">initialize_framework_caches</span>&#x000A;145: &#x000A;146:       <span class="ruby-identifier">initialize_logger</span>&#x000A;147:       <span class="ruby-identifier">initialize_framework_logging</span>&#x000A;148: &#x000A;149:       <span class="ruby-identifier">initialize_dependency_mechanism</span>&#x000A;150:       <span class="ruby-identifier">initialize_whiny_nils</span>&#x000A;151: &#x000A;152:       <span class="ruby-identifier">initialize_time_zone</span>&#x000A;153:       <span class="ruby-identifier">initialize_i18n</span>&#x000A;154: &#x000A;155:       <span class="ruby-identifier">initialize_framework_settings</span>&#x000A;156:       <span class="ruby-identifier">initialize_framework_views</span>&#x000A;157: &#x000A;158:       <span class="ruby-identifier">initialize_metal</span>&#x000A;159: &#x000A;160:       <span class="ruby-identifier">add_support_load_paths</span>&#x000A;161: &#x000A;162:       <span class="ruby-identifier">load_gems</span>&#x000A;163:       <span class="ruby-identifier">load_plugins</span>&#x000A;164: &#x000A;165:       <span class="ruby-comment cmt"># pick up any gems that plugins depend on</span>&#x000A;166:       <span class="ruby-identifier">add_gem_load_paths</span>&#x000A;167:       <span class="ruby-identifier">load_gems</span>&#x000A;168:       <span class="ruby-identifier">check_gem_dependencies</span>&#x000A;169: &#x000A;170:       <span class="ruby-comment cmt"># bail out if gems are missing - note that check_gem_dependencies will have</span>&#x000A;171:       <span class="ruby-comment cmt"># already called abort() unless $gems_rake_task is set</span>&#x000A;172:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">gems_dependencies_loaded</span>&#x000A;173: &#x000A;174:       <span class="ruby-identifier">load_application_initializers</span>&#x000A;175: &#x000A;176:       <span class="ruby-comment cmt"># the framework is now fully initialized</span>&#x000A;177:       <span class="ruby-identifier">after_initialize</span>&#x000A;178: &#x000A;179:       <span class="ruby-comment cmt"># Setup database middleware after initializers have run</span>&#x000A;180:       <span class="ruby-identifier">initialize_database_middleware</span>&#x000A;181: &#x000A;182:       <span class="ruby-comment cmt"># Prepare dispatcher callbacks and run 'prepare' callbacks</span>&#x000A;183:       <span class="ruby-identifier">prepare_dispatcher</span>&#x000A;184: &#x000A;185:       <span class="ruby-comment cmt"># Routing must be initialized after plugins to allow the former to extend the routes</span>&#x000A;186:       <span class="ruby-identifier">initialize_routing</span>&#x000A;187: &#x000A;188:       <span class="ruby-comment cmt"># Observers are loaded after plugins in case Observers or observed models are modified by plugins.</span>&#x000A;189:       <span class="ruby-identifier">load_observers</span>&#x000A;190: &#x000A;191:       <span class="ruby-comment cmt"># Load view path cache</span>&#x000A;192:       <span class="ruby-identifier">load_view_paths</span>&#x000A;193: &#x000A;194:       <span class="ruby-comment cmt"># Load application classes</span>&#x000A;195:       <span class="ruby-identifier">load_application_classes</span>&#x000A;196: &#x000A;197:       <span class="ruby-comment cmt"># Disable dependency loading during request cycle</span>&#x000A;198:       <span class="ruby-identifier">disable_dependency_loading</span>&#x000A;199: &#x000A;200:       <span class="ruby-comment cmt"># Flag initialized</span>&#x000A;201:       <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">initialized</span> = <span class="ruby-keyword kw">true</span>&#x000A;202:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002789'>
                <a name='M002789'></a>
                <div class='synopsis'>
                  <span class='name'>require_frameworks</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Requires all frameworks specified by the Configuration#frameworks list. By
                  default, all frameworks (Active Record, Active Support, Action Pack, Action
                  Mailer, and Active Resource) are loaded.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002789-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002789-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 266</span>&#x000A;266:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">require_frameworks</span>&#x000A;267:       <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">frameworks</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">framework</span><span class="ruby-operator">|</span> <span class="ruby-identifier">require</span>(<span class="ruby-identifier">framework</span>.<span class="ruby-identifier">to_s</span>) }&#x000A;268:     <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">LoadError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>&#x000A;269:       <span class="ruby-comment cmt"># Re-raise as RuntimeError because Mongrel would swallow LoadError.</span>&#x000A;270:       <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">to_s</span>&#x000A;271:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002788'>
                <a name='M002788'></a>
                <div class='synopsis'>
                  <span class='name'>set_autoload_paths</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Set the paths from which <a href="../Rails.html">Rails</a> will
                  automatically load source files, and the load_once paths.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002788-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002788-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 246</span>&#x000A;246:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_autoload_paths</span>&#x000A;247:       <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">load_paths</span> = <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">load_paths</span>.<span class="ruby-identifier">uniq</span>&#x000A;248:       <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">load_once_paths</span> = <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">load_once_paths</span>.<span class="ruby-identifier">uniq</span>&#x000A;249: &#x000A;250:       <span class="ruby-identifier">extra</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">load_once_paths</span> <span class="ruby-operator">-</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">load_paths</span>&#x000A;251:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">extra</span>.<span class="ruby-identifier">empty?</span>&#x000A;252:         <span class="ruby-identifier">abort</span> <span class="ruby-value str">&quot;load_once_paths must be a subset of the load_paths.\nExtra items in load_once_paths: \#{extra * ','}\n&quot;</span>&#x000A;253:       <span class="ruby-keyword kw">end</span>&#x000A;254: &#x000A;255:       <span class="ruby-comment cmt"># Freeze the arrays so future modifications will fail rather than do nothing mysteriously</span>&#x000A;256:       <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">load_once_paths</span>.<span class="ruby-identifier">freeze</span>&#x000A;257:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M002787'>
                <a name='M002787'></a>
                <div class='synopsis'>
                  <span class='name'>set_load_path</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Set the <tt>$LOAD_PATH</tt> based on the value of Configuration#load_paths.
                  Duplicates are removed.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002787-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002787-source'>     <span class="ruby-comment cmt"># File vendor/rails/railties/lib/initializer.rb, line 238</span>&#x000A;238:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_load_path</span>&#x000A;239:       <span class="ruby-identifier">load_paths</span> = <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">load_paths</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">framework_paths</span>&#x000A;240:       <span class="ruby-identifier">load_paths</span>.<span class="ruby-identifier">reverse_each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">dir</span><span class="ruby-operator">|</span> <span class="ruby-identifier">$LOAD_PATH</span>.<span class="ruby-identifier">unshift</span>(<span class="ruby-identifier">dir</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span>(<span class="ruby-identifier">dir</span>) }&#x000A;241:       <span class="ruby-identifier">$LOAD_PATH</span>.<span class="ruby-identifier">uniq!</span>&#x000A;242:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
