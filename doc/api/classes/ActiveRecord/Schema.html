<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>: ActiveRecord::Schema [Rails Framework Documentation]</title>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <link href='../../rdoc-style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='class' id='wrapper'>
      <div class='header'>
        <h1 class='name'>
          <span class='type'>Class</span>
          ActiveRecord::Schema
        </h1>
        <ol class='paths'>
          <li>
            <a href="../../files/vendor/rails/activerecord/lib/active_record/schema_rb.html">vendor/rails/activerecord/lib/active_record/schema.rb</a>
          </li>
        </ol>
        <div class='parent'>
          Parent:
          <strong><a href="Migration.html">ActiveRecord::Migration</a></strong>
        </div>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            <p>
            Allows programmers to programmatically define a schema in a portable DSL.
            This means you can define tables, indexes, etc. without using SQL directly,
            so your applications can more easily support multiple databases.
            </p>
            <p>
            Usage:
            </p>
            <pre>ActiveRecord::Schema.define do&#x000A;  create_table :authors do |t|&#x000A;    t.string :name, :null =&gt; false&#x000A;  end&#x000A;&#x000A;  add_index :authors, :name, :unique&#x000A;&#x000A;  create_table :posts do |t|&#x000A;    t.integer :author_id, :null =&gt; false&#x000A;    t.string :subject&#x000A;    t.text :body&#x000A;    t.boolean :private, :default =&gt; false&#x000A;  end&#x000A;&#x000A;  add_index :posts, :author_id&#x000A;end</pre>
            <p>
            <a href="Schema.html">ActiveRecord::Schema</a> is only supported by
            database adapters that also support migrations, the two features being very
            similar.
            </p>
          </div>
          <div id='method-list'>
            <h2>Methods</h2>
            <h3>public class</h3>
            <ol>
              <li><a href="#M002541">define</a></li>
            </ol>
          </div>
          <div id='section'>
            <div id='methods'>
              <h2>Public class methods</h2>
              <div class='method public-class' id='method-M002541'>
                <a name='M002541'></a>
                <div class='synopsis'>
                  <span class='name'>define</span>
                  <span class='arguments'>(info={}, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  Eval the given block. All methods available to the current connection
                  adapter are available within the block, so you can easily use the database
                  definition DSL to build up your schema (<tt>create_table</tt>,
                  <tt>add_index</tt>, etc.).
                  </p>
                  <p>
                  The <tt>info</tt> hash is optional, and if given is used to define metadata
                  about the current schema (currently, only the schema&#8217;s version):
                  </p>
                  <pre>ActiveRecord::Schema.define(:version =&gt; 20380119000001) do&#x000A;  ...&#x000A;end</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M002541-source'); return false">
                    [show source]
                  </a>
                  <pre id='M002541-source'>    <span class="ruby-comment cmt"># File vendor/rails/activerecord/lib/active_record/schema.rb, line 42</span>&#x000A;42:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">define</span>(<span class="ruby-identifier">info</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;43:       <span class="ruby-identifier">instance_eval</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;44: &#x000A;45:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">info</span>[<span class="ruby-identifier">:version</span>].<span class="ruby-identifier">blank?</span>&#x000A;46:         <span class="ruby-identifier">initialize_schema_migrations_table</span>&#x000A;47:         <span class="ruby-identifier">assume_migrated_upto_version</span> <span class="ruby-identifier">info</span>[<span class="ruby-identifier">:version</span>]&#x000A;48:       <span class="ruby-keyword kw">end</span>&#x000A;49:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
