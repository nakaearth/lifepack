<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>: ActionController::Base [Rails Framework Documentation]</title>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <link href='../../rdoc-style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='class' id='wrapper'>
      <div class='header'>
        <h1 class='name'>
          <span class='type'>Class</span>
          ActionController::Base
        </h1>
        <ol class='paths'>
          <li>
            <a href="../../files/vendor/rails/actionpack/lib/action_controller/base_rb.html">vendor/rails/actionpack/lib/action_controller/base.rb</a>
          </li>
        </ol>
        <div class='parent'>
          Parent:
          <strong><a href="../Object.html">Object</a></strong>
        </div>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            <p>
            Action Controllers are the core of a web request in <a
            href="../Rails.html">Rails</a>. They are made up of one or more actions
            that are executed on request and then either render a template or redirect
            to another action. An action is defined as a public method on the
            controller, which will automatically be made accessible to the web-server
            through <a href="../Rails.html">Rails</a> Routes.
            </p>
            <p>
            A sample controller could look like this:
            </p>
            <pre>class GuestBookController &lt; ActionController::Base&#x000A;  def index&#x000A;    @entries = Entry.find(:all)&#x000A;  end&#x000A;&#x000A;  def sign&#x000A;    Entry.create(params[:entry])&#x000A;    redirect_to :action =&gt; &quot;index&quot;&#x000A;  end&#x000A;end</pre>
            <p>
            Actions, by default, render a template in the <tt>app/views</tt> directory
            corresponding to the name of the controller and action after executing code
            in the action. For example, the <tt>index</tt> action of the
            GuestBookController would render the template
            <tt>app/views/guestbook/index.erb</tt> by default after populating the
            <tt>@entries</tt> instance variable.
            </p>
            <p>
            Unlike index, the sign action will not render a template. After performing
            its main purpose (creating a new entry in the guest book), it initiates a
            redirect instead. This redirect works by returning an external &#8220;302
            Moved&#8221; HTTP response that takes the user to the index action.
            </p>
            <p>
            The index and sign represent the two basic action archetypes used in Action
            Controllers. Get-and-show and do-and-redirect. Most actions are variations
            of these themes.
            </p>
            <h2>Requests</h2>
            <p>
            Requests are processed by the Action Controller framework by extracting the
            value of the &#8220;action&#8221; key in the request parameters. This value
            should hold the name of the action to be performed. Once the action has
            been identified, the remaining request parameters, the session (if one is
            available), and the full request with all the HTTP headers are made
            available to the action through instance variables. Then the action is
            performed.
            </p>
            <p>
            The full request object is available with the request accessor and is
            primarily used to query for HTTP headers. These queries are made by
            accessing the environment hash, like this:
            </p>
            <pre>def server_ip&#x000A;  location = request.env[&quot;SERVER_ADDR&quot;]&#x000A;  render :text =&gt; &quot;This server hosted at #{location}&quot;&#x000A;end</pre>
            <h2>Parameters</h2>
            <p>
            All request parameters, whether they come from a GET or POST request, or
            from the URL, are available through the params method which returns a hash.
            For example, an action that was performed through
            <tt>/weblog/list?category=All&amp;limit=5</tt> will include <tt>{
            &quot;category&quot; =&gt; &quot;All&quot;, &quot;limit&quot; =&gt; 5
            }</tt> in params.
            </p>
            <p>
            It&#8217;s also possible to construct multi-dimensional parameter hashes by
            specifying keys using brackets, such as:
            </p>
            <pre>&lt;input type=&quot;text&quot; name=&quot;post[name]&quot; value=&quot;david&quot;&gt;&#x000A;&lt;input type=&quot;text&quot; name=&quot;post[address]&quot; value=&quot;hyacintvej&quot;&gt;</pre>
            <p>
            A request stemming from a form holding these inputs will include <tt>{
            &quot;post&quot; =&gt; { &quot;name&quot; =&gt; &quot;david&quot;,
            &quot;address&quot; =&gt; &quot;hyacintvej&quot; } }</tt>. If the address
            input had been named &#8220;post[address][street]&#8221;, the params would
            have included <tt>{ &quot;post&quot; =&gt; { &quot;address&quot; =&gt; {
            &quot;street&quot; =&gt; &quot;hyacintvej&quot; } } }</tt>. There&#8217;s
            no limit to the depth of the nesting.
            </p>
            <h2>Sessions</h2>
            <p>
            Sessions allows you to store objects in between requests. This is useful
            for objects that are not yet ready to be persisted, such as a Signup object
            constructed in a multi-paged process, or objects that don&#8217;t change
            much and are needed all the time, such as a User object for a system that
            requires login. The session should not be used, however, as a cache for
            objects where it&#8217;s likely they could be changed unknowingly.
            It&#8217;s usually too much work to keep it all synchronized &#8212;
            something databases already excel at.
            </p>
            <p>
            You can place objects in the session by using the <tt>session</tt> method,
            which accesses a hash:
            </p>
            <pre>session[:person] = Person.authenticate(user_name, password)</pre>
            <p>
            And retrieved again through the same hash:
            </p>
            <pre>Hello #{session[:person]}</pre>
            <p>
            For removing objects from the session, you can either assign a single key
            to <tt>nil</tt>:
            </p>
            <pre># removes :person from session&#x000A;session[:person] = nil</pre>
            <p>
            or you can remove the entire session with <tt><a
            href="Base.html#M000669">reset_session</a></tt>.
            </p>
            <p>
            Sessions are stored by default in a browser cookie that&#8217;s
            cryptographically signed, but unencrypted. This prevents the user from
            tampering with the session but also allows him to see its contents.
            </p>
            <p>
            Do not put secret information in cookie-based sessions!
            </p>
            <p>
            Other options for session storage are:
            </p>
            <ul>
            <li><a href="../ActiveRecord/SessionStore.html">ActiveRecord::SessionStore</a>
            - Sessions are stored in your database, which works better than PStore with
            multiple app servers and, unlike CookieStore, hides your session contents
            from the user. To use <a
            href="../ActiveRecord/SessionStore.html">ActiveRecord::SessionStore</a>,
            set
            
            <pre>config.action_controller.session_store = :active_record_store</pre>
            <p>
            in your <tt>config/environment.rb</tt> and run <tt>rake
            db:sessions:create</tt>.
            </p>
            </li>
            <li>MemCacheStore - Sessions are stored as entries in your memcached cache. Set
            the session store type in <tt>config/environment.rb</tt>:
            
            <pre>config.action_controller.session_store = :mem_cache_store</pre>
            <p>
            This assumes that memcached has been installed and configured properly. See
            the MemCacheStore docs for more information.
            </p>
            </li>
            </ul>
            <h2>Responses</h2>
            <p>
            Each action results in a response, which holds the headers and document to
            be sent to the user&#8217;s browser. The actual response object is
            generated automatically through the use of renders and redirects and
            requires no user intervention.
            </p>
            <h2>Renders</h2>
            <p>
            Action Controller sends content to the user by using one of five rendering
            methods. The most versatile and common is the rendering of a template.
            Included in the Action Pack is the Action View, which enables rendering of
            ERb templates. It&#8217;s automatically configured. The controller passes
            objects to the view by assigning instance variables:
            </p>
            <pre>def show&#x000A;  @post = Post.find(params[:id])&#x000A;end</pre>
            <p>
            Which are then automatically available to the view:
            </p>
            <pre>Title: &lt;%= @post.title %&gt;</pre>
            <p>
            You don&#8217;t have to rely on the automated rendering. Especially actions
            that could result in the rendering of different templates will use the
            manual rendering methods:
            </p>
            <pre>def search&#x000A;  @results = Search.find(params[:query])&#x000A;  case @results&#x000A;    when 0 then render :action =&gt; &quot;no_results&quot;&#x000A;    when 1 then render :action =&gt; &quot;show&quot;&#x000A;    when 2..10 then render :action =&gt; &quot;show_many&quot;&#x000A;  end&#x000A;end</pre>
            <p>
            Read more about writing ERb and <a href="../Builder.html">Builder</a>
            templates in <a
            href="../ActionView/Base.html.">classes/ActionView/Base.html.</a>
            </p>
            <h2>Redirects</h2>
            <p>
            Redirects are used to move from one action to another. For example, after a
            <tt>create</tt> action, which stores a blog entry to a database, we might
            like to show the user the new entry. Because we&#8217;re following good DRY
            principles (Don&#8217;t Repeat Yourself), we&#8217;re going to reuse (and
            redirect to) a <tt>show</tt> action that we&#8217;ll assume has already
            been created. The code might look like this:
            </p>
            <pre>def create&#x000A;  @entry = Entry.new(params[:entry])&#x000A;  if @entry.save&#x000A;    # The entry was saved correctly, redirect to show&#x000A;    redirect_to :action =&gt; 'show', :id =&gt; @entry.id&#x000A;  else&#x000A;    # things didn't go so well, do something else&#x000A;  end&#x000A;end</pre>
            <p>
            In this case, after saving our new entry to the database, the user is
            redirected to the <tt>show</tt> method which is then executed.
            </p>
            <h2>Calling multiple redirects or renders</h2>
            <p>
            An action may contain only a single render or a single redirect. Attempting
            to try to do either again will result in a DoubleRenderError:
            </p>
            <pre>def do_something&#x000A;  redirect_to :action =&gt; &quot;elsewhere&quot;&#x000A;  render :action =&gt; &quot;overthere&quot; # raises DoubleRenderError&#x000A;end</pre>
            <p>
            If you need to redirect on the condition of something, then be sure to add
            &#8220;and return&#8221; to halt execution.
            </p>
            <pre>def do_something&#x000A;  redirect_to(:action =&gt; &quot;elsewhere&quot;) and return if monkeys.nil?&#x000A;  render :action =&gt; &quot;overthere&quot; # won't be called if monkeys is nil&#x000A;end</pre>
          </div>
          <div id='method-list'>
            <h2>Methods</h2>
            <h3>public class</h3>
            <ol>
              <li><a href="#M000647">append_view_path</a></li>
              <li><a href="#M000638">call</a></li>
              <li><a href="#M000639">controller_class_name</a></li>
              <li><a href="#M000640">controller_name</a></li>
              <li><a href="#M000641">controller_path</a></li>
              <li><a href="#M000648">filter_parameter_logging</a></li>
              <li><a href="#M000642">hidden_actions</a></li>
              <li><a href="#M000643">hide_action</a></li>
              <li><a href="#M000646">prepend_view_path</a></li>
              <li><a href="#M000644">view_paths</a></li>
              <li><a href="#M000645">view_paths=</a></li>
            </ol>
            <h3>public instance</h3>
            <ol>
              <li><a href="#M000658">append_view_path</a></li>
              <li><a href="#M000651">controller_class_name</a></li>
              <li><a href="#M000652">controller_name</a></li>
              <li><a href="#M000653">controller_path</a></li>
              <li><a href="#M000657">prepend_view_path</a></li>
              <li><a href="#M000649">send_response</a></li>
              <li><a href="#M000654">session_enabled?</a></li>
              <li><a href="#M000650">url_for</a></li>
              <li><a href="#M000655">view_paths</a></li>
              <li><a href="#M000656">view_paths=</a></li>
            </ol>
            <h3>protected instance</h3>
            <ol>
              <li><a href="#M000662">default_url_options</a></li>
              <li><a href="#M000667">expires_in</a></li>
              <li><a href="#M000668">expires_now</a></li>
              <li><a href="#M000666">fresh_when</a></li>
              <li><a href="#M000661">head</a></li>
              <li><a href="#M000663">redirect_to</a></li>
              <li><a href="#M000664">redirect_to_full_url</a></li>
              <li><a href="#M000659">render</a></li>
              <li><a href="#M000660">render_to_string</a></li>
              <li><a href="#M000669">reset_session</a></li>
              <li><a href="#M000665">stale?</a></li>
            </ol>
          </div>
          <div id='context'>
            <div id='includes'>
              <h2>Included modules</h2>
              <ol>
                <li>StatusCodes</li>
              </ol>
            </div>
          </div>
          <div id='section'>
            <div id='constants-list'>
              <h2>Constants</h2>
              <div class='name-list'>
                <table summary='Constants'>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>DEFAULT_RENDER_STATUS_CODE</td>
                    <td>=</td>
                    <td class='context-item-value'>&quot;200 OK&quot;</td>
                  </tr>
                </table>
              </div>
            </div>
            <div id='attribute-list'>
              <h2 class='section-bar'>Attributes</h2>
              <div class='name-list'>
                <table>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>action_name</td>
                    <td class='context-item-value'>[RW]</td>
                    <td class='context-item-desc'>
                      
                      Returns the name of the action this controller is processing.
                    </td>
                  </tr>
                </table>
              </div>
            </div>
            <div id='methods'>
              <h2>Public class methods</h2>
              <div class='method public-class' id='method-M000647'>
                <a name='M000647'></a>
                <div class='synopsis'>
                  <span class='name'>append_view_path</span>
                  <span class='arguments'>(path)</span>
                </div>
                <div class='description'>
                  <p>
                  Adds a view_path to the end of the <a
                  href="Base.html#M000644">view_paths</a> array. If the current class has no
                  view paths, copy them from the superclass. This change will be visible for
                  all future requests.
                  </p>
                  <pre>ArticleController.append_view_path(&quot;views/default&quot;)&#x000A;ArticleController.append_view_path([&quot;views/default&quot;, &quot;views/custom&quot;])</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000647-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000647-source'>     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/base.rb, line 455</span>&#x000A;455:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">append_view_path</span>(<span class="ruby-identifier">path</span>)&#x000A;456:         <span class="ruby-ivar">@view_paths</span> = <span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">view_paths</span>.<span class="ruby-identifier">dup</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@view_paths</span>.<span class="ruby-identifier">nil?</span>&#x000A;457:         <span class="ruby-ivar">@view_paths</span>.<span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">path</span>)&#x000A;458:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-class' id='method-M000638'>
                <a name='M000638'></a>
                <div class='synopsis'>
                  <span class='name'>call</span>
                  <span class='arguments'>(env)</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000638-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000638-source'>     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/base.rb, line 382</span>&#x000A;382:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">call</span>(<span class="ruby-identifier">env</span>)&#x000A;383:         <span class="ruby-comment cmt"># HACK: For global rescue to have access to the original request and response</span>&#x000A;384:         <span class="ruby-identifier">request</span> = <span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;action_controller.rescue.request&quot;</span>] <span class="ruby-operator">||=</span> <span class="ruby-constant">Request</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">env</span>)&#x000A;385:         <span class="ruby-identifier">response</span> = <span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;action_controller.rescue.response&quot;</span>] <span class="ruby-operator">||=</span> <span class="ruby-constant">Response</span>.<span class="ruby-identifier">new</span>&#x000A;386:         <span class="ruby-identifier">process</span>(<span class="ruby-identifier">request</span>, <span class="ruby-identifier">response</span>)&#x000A;387:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-class' id='method-M000639'>
                <a name='M000639'></a>
                <div class='synopsis'>
                  <span class='name'>controller_class_name</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Converts the class name from something like
                  &#8220;OneModule::TwoModule::NeatController&#8221; to
                  &#8220;NeatController&#8221;.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000639-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000639-source'>     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/base.rb, line 395</span>&#x000A;395:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">controller_class_name</span>&#x000A;396:         <span class="ruby-ivar">@controller_class_name</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">demodulize</span>&#x000A;397:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-class' id='method-M000640'>
                <a name='M000640'></a>
                <div class='synopsis'>
                  <span class='name'>controller_name</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Converts the class name from something like
                  &#8220;OneModule::TwoModule::NeatController&#8221; to &#8220;neat&#8221;.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000640-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000640-source'>     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/base.rb, line 400</span>&#x000A;400:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">controller_name</span>&#x000A;401:         <span class="ruby-ivar">@controller_name</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">controller_class_name</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp re">/Controller$/</span>, <span class="ruby-value str">''</span>).<span class="ruby-identifier">underscore</span>&#x000A;402:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-class' id='method-M000641'>
                <a name='M000641'></a>
                <div class='synopsis'>
                  <span class='name'>controller_path</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Converts the class name from something like
                  &#8220;OneModule::TwoModule::NeatController&#8221; to
                  &#8220;one_module/two_module/neat&#8220;.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000641-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000641-source'>     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/base.rb, line 405</span>&#x000A;405:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">controller_path</span>&#x000A;406:         <span class="ruby-ivar">@controller_path</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/Controller$/</span>, <span class="ruby-value str">''</span>).<span class="ruby-identifier">underscore</span>&#x000A;407:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-class' id='method-M000648'>
                <a name='M000648'></a>
                <div class='synopsis'>
                  <span class='name'>filter_parameter_logging</span>
                  <span class='arguments'>(*filter_words) {|key, value| ...}</span>
                </div>
                <div class='description'>
                  <p>
                  Replace sensitive parameter data from the request log. Filters parameters
                  that have any of the arguments as a substring. Looks in all subhashes of
                  the param hash for keys to filter. If a block is given, each key and value
                  of the parameter hash and all subhashes is passed to it, the value or key
                  can be replaced using String#replace or similar method.
                  </p>
                  <p>
                  Examples:
                  </p>
                  <pre>filter_parameter_logging&#x000A;=&gt; Does nothing, just slows the logging process down&#x000A;&#x000A;filter_parameter_logging :password&#x000A;=&gt; replaces the value to all keys matching /password/i with &quot;[FILTERED]&quot;&#x000A;&#x000A;filter_parameter_logging :foo, &quot;bar&quot;&#x000A;=&gt; replaces the value to all keys matching /foo|bar/i with &quot;[FILTERED]&quot;&#x000A;&#x000A;filter_parameter_logging { |k,v| v.reverse! if k =~ /secret/i }&#x000A;=&gt; reverses the value to all keys matching /secret/i&#x000A;&#x000A;filter_parameter_logging(:foo, &quot;bar&quot;) { |k,v| v.reverse! if k =~ /secret/i }&#x000A;=&gt; reverses the value to all keys matching /secret/i, and&#x000A;   replaces the value to all keys matching /foo|bar/i with &quot;[FILTERED]&quot;</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000648-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000648-source'>     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/base.rb, line 483</span>&#x000A;483:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">filter_parameter_logging</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">filter_words</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;484:         <span class="ruby-identifier">parameter_filter</span> = <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">filter_words</span>.<span class="ruby-identifier">collect</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">to_s</span> }.<span class="ruby-identifier">join</span>(<span class="ruby-value str">'|'</span>), <span class="ruby-keyword kw">true</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">filter_words</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>&#x000A;485: &#x000A;486:         <span class="ruby-identifier">define_method</span>(<span class="ruby-identifier">:filter_parameters</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">unfiltered_parameters</span><span class="ruby-operator">|</span>&#x000A;487:           <span class="ruby-identifier">filtered_parameters</span> = {}&#x000A;488: &#x000A;489:           <span class="ruby-identifier">unfiltered_parameters</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>&#x000A;490:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">key</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">parameter_filter</span>&#x000A;491:               <span class="ruby-identifier">filtered_parameters</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-value str">'[FILTERED]'</span>&#x000A;492:             <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)&#x000A;493:               <span class="ruby-identifier">filtered_parameters</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">filter_parameters</span>(<span class="ruby-identifier">value</span>)&#x000A;494:             <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">block_given?</span>&#x000A;495:               <span class="ruby-identifier">key</span> = <span class="ruby-identifier">key</span>.<span class="ruby-identifier">dup</span>&#x000A;496:               <span class="ruby-identifier">value</span> = <span class="ruby-identifier">value</span>.<span class="ruby-identifier">dup</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">value</span>&#x000A;497:               <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>&#x000A;498:               <span class="ruby-identifier">filtered_parameters</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">value</span>&#x000A;499:             <span class="ruby-keyword kw">else</span>&#x000A;500:               <span class="ruby-identifier">filtered_parameters</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">value</span>&#x000A;501:             <span class="ruby-keyword kw">end</span>&#x000A;502:           <span class="ruby-keyword kw">end</span>&#x000A;503: &#x000A;504:           <span class="ruby-identifier">filtered_parameters</span>&#x000A;505:         <span class="ruby-keyword kw">end</span>&#x000A;506:         <span class="ruby-identifier">protected</span> <span class="ruby-identifier">:filter_parameters</span>&#x000A;507:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-class' id='method-M000642'>
                <a name='M000642'></a>
                <div class='synopsis'>
                  <span class='name'>hidden_actions</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Return an array containing the names of public methods that have been
                  marked hidden from the action processor. By default, all methods defined in
                  <a href="Base.html">ActionController::Base</a> and included modules are
                  hidden. More methods can be hidden using <tt>hide_actions</tt>.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000642-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000642-source'>     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/base.rb, line 412</span>&#x000A;412:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">hidden_actions</span>&#x000A;413:         <span class="ruby-identifier">read_inheritable_attribute</span>(<span class="ruby-identifier">:hidden_actions</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">write_inheritable_attribute</span>(<span class="ruby-identifier">:hidden_actions</span>, [])&#x000A;414:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-class' id='method-M000643'>
                <a name='M000643'></a>
                <div class='synopsis'>
                  <span class='name'>hide_action</span>
                  <span class='arguments'>(*names)</span>
                </div>
                <div class='description'>
                  <p>
                  Hide each of the given methods from being callable as actions.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000643-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000643-source'>     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/base.rb, line 417</span>&#x000A;417:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">hide_action</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">names</span>)&#x000A;418:         <span class="ruby-identifier">write_inheritable_attribute</span>(<span class="ruby-identifier">:hidden_actions</span>, <span class="ruby-identifier">hidden_actions</span> <span class="ruby-operator">|</span> <span class="ruby-identifier">names</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span> })&#x000A;419:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-class' id='method-M000646'>
                <a name='M000646'></a>
                <div class='synopsis'>
                  <span class='name'>prepend_view_path</span>
                  <span class='arguments'>(path)</span>
                </div>
                <div class='description'>
                  <p>
                  Adds a view_path to the front of the <a
                  href="Base.html#M000644">view_paths</a> array. If the current class has no
                  view paths, copy them from the superclass. This change will be visible for
                  all future requests.
                  </p>
                  <pre>ArticleController.prepend_view_path(&quot;views/default&quot;)&#x000A;ArticleController.prepend_view_path([&quot;views/default&quot;, &quot;views/custom&quot;])</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000646-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000646-source'>     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/base.rb, line 443</span>&#x000A;443:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">prepend_view_path</span>(<span class="ruby-identifier">path</span>)&#x000A;444:         <span class="ruby-ivar">@view_paths</span> = <span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">view_paths</span>.<span class="ruby-identifier">dup</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-keyword kw">defined?</span>(<span class="ruby-ivar">@view_paths</span>) <span class="ruby-operator">||</span> <span class="ruby-ivar">@view_paths</span>.<span class="ruby-identifier">nil?</span>&#x000A;445:         <span class="ruby-ivar">@view_paths</span>.<span class="ruby-identifier">unshift</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">path</span>)&#x000A;446:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-class' id='method-M000644'>
                <a name='M000644'></a>
                <div class='synopsis'>
                  <span class='name'>view_paths</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  View load paths determine the bases from which template references can be
                  made. So a call to render(&#8220;test/template&#8220;) will be looked up in
                  the view load paths array and the closest match will be returned.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000644-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000644-source'>     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/base.rb, line 424</span>&#x000A;424:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">view_paths</span>&#x000A;425:         <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span> <span class="ruby-ivar">@view_paths</span>&#x000A;426:           <span class="ruby-ivar">@view_paths</span>&#x000A;427:         <span class="ruby-keyword kw">else</span>&#x000A;428:           <span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">view_paths</span>&#x000A;429:         <span class="ruby-keyword kw">end</span>&#x000A;430:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-class' id='method-M000645'>
                <a name='M000645'></a>
                <div class='synopsis'>
                  <span class='name'>view_paths=</span>
                  <span class='arguments'>(value)</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000645-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000645-source'>     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/base.rb, line 432</span>&#x000A;432:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">view_paths=</span>(<span class="ruby-identifier">value</span>)&#x000A;433:         <span class="ruby-ivar">@view_paths</span> = <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">process_view_paths</span>(<span class="ruby-identifier">value</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">value</span>&#x000A;434:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <h2>Public instance methods</h2>
              <div class='method public-instance' id='method-M000658'>
                <a name='M000658'></a>
                <div class='synopsis'>
                  <span class='name'>append_view_path</span>
                  <span class='arguments'>(path)</span>
                </div>
                <div class='description'>
                  <p>
                  Adds a view_path to the end of the <a
                  href="Base.html#M000644">view_paths</a> array. This change affects the
                  current request only.
                  </p>
                  <pre>self.append_view_path(&quot;views/default&quot;)&#x000A;self.append_view_path([&quot;views/default&quot;, &quot;views/custom&quot;])</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000658-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000658-source'>     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/base.rb, line 677</span>&#x000A;677:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">append_view_path</span>(<span class="ruby-identifier">path</span>)&#x000A;678:         <span class="ruby-ivar">@template</span>.<span class="ruby-identifier">view_paths</span>.<span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">path</span>)&#x000A;679:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000651'>
                <a name='M000651'></a>
                <div class='synopsis'>
                  <span class='name'>controller_class_name</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Converts the class name from something like
                  &#8220;OneModule::TwoModule::NeatController&#8221; to
                  &#8220;NeatController&#8221;.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000651-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000651-source'>     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/base.rb, line 632</span>&#x000A;632:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">controller_class_name</span>&#x000A;633:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">controller_class_name</span>&#x000A;634:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000652'>
                <a name='M000652'></a>
                <div class='synopsis'>
                  <span class='name'>controller_name</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Converts the class name from something like
                  &#8220;OneModule::TwoModule::NeatController&#8221; to &#8220;neat&#8221;.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000652-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000652-source'>     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/base.rb, line 637</span>&#x000A;637:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">controller_name</span>&#x000A;638:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">controller_name</span>&#x000A;639:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000653'>
                <a name='M000653'></a>
                <div class='synopsis'>
                  <span class='name'>controller_path</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Converts the class name from something like
                  &#8220;OneModule::TwoModule::NeatController&#8221; to
                  &#8220;one_module/two_module/neat&#8220;.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000653-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000653-source'>     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/base.rb, line 642</span>&#x000A;642:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">controller_path</span>&#x000A;643:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">controller_path</span>&#x000A;644:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000657'>
                <a name='M000657'></a>
                <div class='synopsis'>
                  <span class='name'>prepend_view_path</span>
                  <span class='arguments'>(path)</span>
                </div>
                <div class='description'>
                  <p>
                  Adds a view_path to the front of the <a
                  href="Base.html#M000644">view_paths</a> array. This change affects the
                  current request only.
                  </p>
                  <pre>self.prepend_view_path(&quot;views/default&quot;)&#x000A;self.prepend_view_path([&quot;views/default&quot;, &quot;views/custom&quot;])</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000657-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000657-source'>     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/base.rb, line 667</span>&#x000A;667:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">prepend_view_path</span>(<span class="ruby-identifier">path</span>)&#x000A;668:         <span class="ruby-ivar">@template</span>.<span class="ruby-identifier">view_paths</span>.<span class="ruby-identifier">unshift</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">path</span>)&#x000A;669:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000649'>
                <a name='M000649'></a>
                <div class='synopsis'>
                  <span class='name'>send_response</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000649-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000649-source'>     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/base.rb, line 530</span>&#x000A;530:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">send_response</span>&#x000A;531:         <span class="ruby-identifier">response</span>.<span class="ruby-identifier">prepare!</span>&#x000A;532:         <span class="ruby-identifier">response</span>&#x000A;533:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000654'>
                <a name='M000654'></a>
                <div class='synopsis'>
                  <span class='name'>session_enabled?</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000654-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000654-source'>     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/base.rb, line 646</span>&#x000A;646:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">session_enabled?</span>&#x000A;647:         <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecation</span>.<span class="ruby-identifier">warn</span>(<span class="ruby-value str">&quot;Sessions are now lazy loaded. So if you don't access them, consider them disabled.&quot;</span>, <span class="ruby-identifier">caller</span>)&#x000A;648:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000650'>
                <a name='M000650'></a>
                <div class='synopsis'>
                  <span class='name'>url_for</span>
                  <span class='arguments'>(options = {})</span>
                </div>
                <div class='description'>
                  <p>
                  Returns a URL that has been rewritten according to the options hash and the
                  defined routes. (For doing a complete redirect, use <tt><a
                  href="Base.html#M000663">redirect_to</a></tt>).
                  </p>
                  <p>
                  <tt><a href="Base.html#M000650">url_for</a></tt> is used to:
                  </p>
                  <p>
                  All keys given to <tt><a href="Base.html#M000650">url_for</a></tt> are
                  forwarded to the Route module, save for the following:
                  </p>
                  <ul>
                  <li><tt>:anchor</tt> - Specifies the anchor name to be appended to the path.
                  For example, <tt><a href="Base.html#M000650">url_for</a> :controller =&gt;
                  'posts', :action =&gt; 'show', :id =&gt; 10, :anchor =&gt; 'comments'</tt>
                  will produce &#8220;/posts/show/10#comments&#8220;.
                  
                  </li>
                  <li><tt>:only_path</tt> - If true, returns the relative URL (omitting the
                  protocol, host name, and port) (<tt>false</tt> by default).
                  
                  </li>
                  <li><tt>:trailing_slash</tt> - If true, adds a trailing slash, as in
                  &#8220;/archive/2005/&#8220;. Note that this is currently not recommended
                  since it breaks caching.
                  
                  </li>
                  <li><tt>:host</tt> - Overrides the default (current) host if provided.
                  
                  </li>
                  <li><tt>:protocol</tt> - Overrides the default (current) protocol if provided.
                  
                  </li>
                  <li><tt>:port</tt> - Optionally specify the port to connect to.
                  
                  </li>
                  <li><tt>:user</tt> - Inline HTTP authentication (only plucked out if
                  <tt>:password</tt> is also present).
                  
                  </li>
                  <li><tt>:password</tt> - Inline HTTP authentication (only plucked out if
                  <tt>:user</tt> is also present).
                  
                  </li>
                  <li><tt>:skip_relative_url_root</tt> - If true, the url is not constructed
                  using the <tt>relative_url_root</tt> of the request so the path will
                  include the web server relative installation directory.
                  
                  </li>
                  </ul>
                  <p>
                  The URL is generated from the remaining keys in the hash. A URL contains
                  two key parts: the <base> and a query string. Routes composes a query
                  string as the key/value pairs not included in the <base>.
                  </p>
                  <p>
                  The default Routes setup supports a typical <a
                  href="../Rails.html">Rails</a> path of &#8220;controller/action/id&#8220;
                  where action and id are optional, with action defaulting to
                  &#8216;index&#8217; when not given. Here are some typical <a
                  href="Base.html#M000650">url_for</a> statements and their corresponding
                  URLs:
                  </p>
                  <pre>url_for :controller =&gt; 'posts', :action =&gt; 'recent'                # =&gt; 'proto://host.com/posts/recent'&#x000A;url_for :controller =&gt; 'posts', :action =&gt; 'index'                 # =&gt; 'proto://host.com/posts'&#x000A;url_for :controller =&gt; 'posts', :action =&gt; 'index', :port=&gt;'8033'  # =&gt; 'proto://host.com:8033/posts'&#x000A;url_for :controller =&gt; 'posts', :action =&gt; 'show', :id =&gt; 10       # =&gt; 'proto://host.com/posts/show/10'&#x000A;url_for :controller =&gt; 'posts', :user =&gt; 'd', :password =&gt; '123'   # =&gt; 'proto://d:123@host.com/posts'</pre>
                  <p>
                  When generating a new URL, missing values may be filled in from the current
                  request&#8217;s parameters. For example, <tt><a
                  href="Base.html#M000650">url_for</a> :action =&gt; 'some_action'</tt> will
                  retain the current controller, as expected. This behavior extends to other
                  parameters, including <tt>:controller</tt>, <tt>:id</tt>, and any other
                  parameters that are placed into a Route&#8217;s path.  The URL helpers
                  such as <tt><a href="Base.html#M000650">url_for</a></tt> have a limited
                  form of memory: when generating a new URL, they can look for missing values
                  in the current request&#8217;s parameters. Routes attempts to guess when a
                  value should and should not be taken from the defaults. There are a few
                  simple rules on how this is performed:
                  </p>
                  <ul>
                  <li>If the controller name begins with a slash no defaults are used:
                  
                  <pre>url_for :controller =&gt; '/home'</pre>
                  <p>
                  In particular, a leading slash ensures no namespace is assumed. Thus, while
                  <tt><a href="Base.html#M000650">url_for</a> :controller =&gt; 'users'</tt>
                  may resolve to <tt>Admin::UsersController</tt> if the current controller
                  lives under that module, <tt><a href="Base.html#M000650">url_for</a>
                  :controller =&gt; '/users'</tt> ensures you link to
                  <tt>::UsersController</tt> no matter what.
                  </p>
                  </li>
                  <li>If the controller changes, the action will default to index unless provided
                  
                  </li>
                  </ul>
                  <p>
                  The final rule is applied while the URL is being generated and is best
                  illustrated by an example. Let us consider the route given by
                  <tt>map.connect 'people/:last/:first/:action', :action =&gt; 'bio',
                  :controller =&gt; 'people'</tt>.
                  </p>
                  <p>
                  Suppose that the current URL is &#8220;people/hh/david/contacts&#8220;.
                  Let&#8217;s consider a few different cases of URLs which are generated from
                  this page.
                  </p>
                  <ul>
                  <li><tt><a href="Base.html#M000650">url_for</a> :action =&gt; 'bio'</tt>
                  &#8212; During the generation of this URL, default values will be used for
                  the first and
                  
                  </li>
                  </ul>
                  <p>
                  last components, and the action shall change. The generated URL will be,
                  &#8220;people/hh/david/bio&#8220;.
                  </p>
                  <ul>
                  <li><tt><a href="Base.html#M000650">url_for</a> :first =&gt;
                  'davids-little-brother'</tt> This generates the URL
                  &#8216;people/hh/davids-little-brother&#8217; &#8212; note that this URL
                  leaves out the assumed action of &#8216;bio&#8217;.
                  
                  </li>
                  </ul>
                  <p>
                  However, you might ask why the action from the current request,
                  &#8216;contacts&#8217;, isn&#8217;t carried over into the new URL. The
                  answer has to do with the order in which the parameters appear in the
                  generated path. In a nutshell, since the value that appears in the slot for
                  <tt>:first</tt> is not equal to default value for <tt>:first</tt> we stop
                  using defaults. On its own, this rule can account for much of the typical
                  <a href="../Rails.html">Rails</a> URL behavior.  Although a convenience,
                  defaults can occasionally get in your way. In some cases a default persists
                  longer than desired. The default may be cleared by adding <tt>:name =&gt;
                  nil</tt> to <tt><a href="Base.html#M000650">url_for</a></tt>&#8217;s
                  options. This is often required when writing form helpers, since the
                  defaults in play may vary greatly depending upon where the helper is used
                  from. The following line will redirect to PostController&#8217;s default
                  action, regardless of the page it is displayed on:
                  </p>
                  <pre>url_for :controller =&gt; 'posts', :action =&gt; nil</pre>
                  <p>
                  If you explicitly want to create a URL that&#8217;s almost the same as the
                  current URL, you can do so using the <tt>:overwrite_params</tt> options.
                  Say for your posts you have different views for showing and printing them.
                  Then, in the show view, you get the URL for the print view like this
                  </p>
                  <pre>url_for :overwrite_params =&gt; { :action =&gt; 'print' }</pre>
                  <p>
                  This takes the current URL as is and only exchanges the action. In
                  contrast, <tt><a href="Base.html#M000650">url_for</a> :action =&gt;
                  'print'</tt> would have slashed-off the path components after the changed
                  action.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000650-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000650-source'>     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/base.rb, line 619</span>&#x000A;619:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">options</span> = {})&#x000A;620:         <span class="ruby-identifier">options</span> <span class="ruby-operator">||=</span> {}&#x000A;621:         <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">options</span>&#x000A;622:           <span class="ruby-keyword kw">when</span> <span class="ruby-constant">String</span>&#x000A;623:             <span class="ruby-identifier">options</span>&#x000A;624:           <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Hash</span>&#x000A;625:             <span class="ruby-ivar">@url</span>.<span class="ruby-identifier">rewrite</span>(<span class="ruby-identifier">rewrite_options</span>(<span class="ruby-identifier">options</span>))&#x000A;626:           <span class="ruby-keyword kw">else</span>&#x000A;627:             <span class="ruby-identifier">polymorphic_url</span>(<span class="ruby-identifier">options</span>)&#x000A;628:         <span class="ruby-keyword kw">end</span>&#x000A;629:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000655'>
                <a name='M000655'></a>
                <div class='synopsis'>
                  <span class='name'>view_paths</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  View load paths for controller.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000655-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000655-source'>     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/base.rb, line 653</span>&#x000A;653:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">view_paths</span>&#x000A;654:         <span class="ruby-ivar">@template</span>.<span class="ruby-identifier">view_paths</span>&#x000A;655:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000656'>
                <a name='M000656'></a>
                <div class='synopsis'>
                  <span class='name'>view_paths=</span>
                  <span class='arguments'>(value)</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000656-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000656-source'>     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/base.rb, line 657</span>&#x000A;657:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">view_paths=</span>(<span class="ruby-identifier">value</span>)&#x000A;658:         <span class="ruby-ivar">@template</span>.<span class="ruby-identifier">view_paths</span> = <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">process_view_paths</span>(<span class="ruby-identifier">value</span>)&#x000A;659:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <h2>Protected instance methods</h2>
              <div class='method protected-instance' id='method-M000662'>
                <a name='M000662'></a>
                <div class='synopsis'>
                  <span class='name'>default_url_options</span>
                  <span class='arguments'>(options = nil)</span>
                </div>
                <div class='description'>
                  <p>
                  Overwrite to implement a number of default options that all <a
                  href="Base.html#M000650">url_for</a>-based methods will use. The default
                  options should come in the form of a hash, just like the one you would use
                  for <a href="Base.html#M000650">url_for</a> directly. Example:
                  </p>
                  <pre>def default_url_options(options)&#x000A;  { :project =&gt; @project.active? ? @project.url_name : &quot;unknown&quot; }&#x000A;end</pre>
                  <p>
                  As you can infer from the example, this is mostly useful for situations
                  where you want to centralize dynamic decisions about the urls as they stem
                  from the business domain. Please note that any individual <a
                  href="Base.html#M000650">url_for</a> call can always override the defaults
                  set by this method.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000662-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000662-source'>      <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/base.rb, line 1063</span>&#x000A;1063:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">default_url_options</span>(<span class="ruby-identifier">options</span> = <span class="ruby-keyword kw">nil</span>)&#x000A;1064:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method protected-instance' id='method-M000667'>
                <a name='M000667'></a>
                <div class='synopsis'>
                  <span class='name'>expires_in</span>
                  <span class='arguments'>(seconds, options = {})</span>
                </div>
                <div class='description'>
                  <p>
                  Sets a HTTP 1.1 Cache-Control header. Defaults to issuing a
                  &#8220;private&#8221; instruction, so that intermediate caches
                  shouldn&#8217;t cache the response.
                  </p>
                  <p>
                  Examples:
                  </p>
                  <pre>expires_in 20.minutes&#x000A;expires_in 3.hours, :public =&gt; true&#x000A;expires in 3.hours, 'max-stale' =&gt; 5.hours, :public =&gt; true</pre>
                  <p>
                  This method will overwrite an existing Cache-Control header. See <a
                  href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html">www.w3.org/Protocols/rfc2616/rfc2616-sec14.html</a>
                  for more possibilities.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000667-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000667-source'>      <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/base.rb, line 1207</span>&#x000A;1207:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">expires_in</span>(<span class="ruby-identifier">seconds</span>, <span class="ruby-identifier">options</span> = {}) <span class="ruby-comment cmt">#:doc:</span>&#x000A;1208:         <span class="ruby-identifier">cache_control</span> = <span class="ruby-identifier">response</span>.<span class="ruby-identifier">headers</span>[<span class="ruby-value str">&quot;Cache-Control&quot;</span>].<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;,&quot;</span>).<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">k</span>.<span class="ruby-identifier">strip</span> }&#x000A;1209: &#x000A;1210:         <span class="ruby-identifier">cache_control</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;max-age=#{seconds}&quot;</span>&#x000A;1211:         <span class="ruby-identifier">cache_control</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">&quot;no-cache&quot;</span>)&#x000A;1212:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:public</span>]&#x000A;1213:           <span class="ruby-identifier">cache_control</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">&quot;private&quot;</span>)&#x000A;1214:           <span class="ruby-identifier">cache_control</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;public&quot;</span>&#x000A;1215:         <span class="ruby-keyword kw">else</span>&#x000A;1216:           <span class="ruby-identifier">cache_control</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;private&quot;</span>&#x000A;1217:         <span class="ruby-keyword kw">end</span>&#x000A;1218:         &#x000A;1219:         <span class="ruby-comment cmt"># This allows for additional headers to be passed through like 'max-stale' =&gt; 5.hours</span>&#x000A;1220:         <span class="ruby-identifier">cache_control</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">symbolize_keys</span>.<span class="ruby-identifier">reject</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">k</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:public</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">k</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:private</span> }.<span class="ruby-identifier">map</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">true</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">k</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">:</span> <span class="ruby-node">&quot;#{k.to_s}=#{v.to_s}&quot;</span>}&#x000A;1221:         &#x000A;1222:         <span class="ruby-identifier">response</span>.<span class="ruby-identifier">headers</span>[<span class="ruby-value str">&quot;Cache-Control&quot;</span>] = <span class="ruby-identifier">cache_control</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">', '</span>)&#x000A;1223:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method protected-instance' id='method-M000668'>
                <a name='M000668'></a>
                <div class='synopsis'>
                  <span class='name'>expires_now</span>
                  <span class='arguments'>(</span>
                </div>
                <div class='description'>
                  <p>
                  Sets a HTTP 1.1 Cache-Control header of &#8220;no-cache&#8221; so no
                  caching should occur by the browser or intermediate caches (like caching
                  proxy servers).
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000668-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000668-source'>      <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/base.rb, line 1227</span>&#x000A;1227:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">expires_now</span> <span class="ruby-comment cmt">#:doc:</span>&#x000A;1228:         <span class="ruby-identifier">response</span>.<span class="ruby-identifier">headers</span>[<span class="ruby-value str">&quot;Cache-Control&quot;</span>] = <span class="ruby-value str">&quot;no-cache&quot;</span>&#x000A;1229:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method protected-instance' id='method-M000666'>
                <a name='M000666'></a>
                <div class='synopsis'>
                  <span class='name'>fresh_when</span>
                  <span class='arguments'>(options)</span>
                </div>
                <div class='description'>
                  <p>
                  Sets the etag, last_modified, or both on the response and renders a
                  &#8220;304 Not Modified&#8221; response if the request is already fresh.
                  </p>
                  <p>
                  Parameters:
                  </p>
                  <ul>
                  <li><tt>:etag</tt>
                  
                  </li>
                  <li><tt>:last_modified</tt>
                  
                  </li>
                  <li><tt>:public</tt> By default the Cache-Control header is private, set this
                  to true if you want your application to be cachable by other devices (proxy
                  caches).
                  
                  </li>
                  </ul>
                  <p>
                  Example:
                  </p>
                  <pre>def show&#x000A;  @article = Article.find(params[:id])&#x000A;  fresh_when(:etag =&gt; @article, :last_modified =&gt; @article.created_at.utc, :public =&gt; true)&#x000A;end</pre>
                  <p>
                  This will render the show template if the request isn&#8217;t sending a
                  matching etag or If-Modified-Since header and just a &#8220;304 Not
                  Modified&#8221; response if there&#8217;s a match.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000666-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000666-source'>      <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/base.rb, line 1178</span>&#x000A;1178:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fresh_when</span>(<span class="ruby-identifier">options</span>)&#x000A;1179:         <span class="ruby-identifier">options</span>.<span class="ruby-identifier">assert_valid_keys</span>(<span class="ruby-identifier">:etag</span>, <span class="ruby-identifier">:last_modified</span>, <span class="ruby-identifier">:public</span>)&#x000A;1180: &#x000A;1181:         <span class="ruby-identifier">response</span>.<span class="ruby-identifier">etag</span>          = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:etag</span>]          <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:etag</span>]&#x000A;1182:         <span class="ruby-identifier">response</span>.<span class="ruby-identifier">last_modified</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:last_modified</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:last_modified</span>]&#x000A;1183:         &#x000A;1184:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:public</span>] &#x000A;1185:           <span class="ruby-identifier">cache_control</span> = <span class="ruby-identifier">response</span>.<span class="ruby-identifier">headers</span>[<span class="ruby-value str">&quot;Cache-Control&quot;</span>].<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;,&quot;</span>).<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">k</span>.<span class="ruby-identifier">strip</span> }&#x000A;1186:           <span class="ruby-identifier">cache_control</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">&quot;private&quot;</span>)&#x000A;1187:           <span class="ruby-identifier">cache_control</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">&quot;no-cache&quot;</span>)&#x000A;1188:           <span class="ruby-identifier">cache_control</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;public&quot;</span>&#x000A;1189:           <span class="ruby-identifier">response</span>.<span class="ruby-identifier">headers</span>[<span class="ruby-value str">&quot;Cache-Control&quot;</span>] = <span class="ruby-identifier">cache_control</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">', '</span>)&#x000A;1190:         <span class="ruby-keyword kw">end</span>&#x000A;1191: &#x000A;1192:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">fresh?</span>(<span class="ruby-identifier">response</span>)&#x000A;1193:           <span class="ruby-identifier">head</span> <span class="ruby-identifier">:not_modified</span>&#x000A;1194:         <span class="ruby-keyword kw">end</span>&#x000A;1195:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method protected-instance' id='method-M000661'>
                <a name='M000661'></a>
                <div class='synopsis'>
                  <span class='name'>head</span>
                  <span class='arguments'>(*args)</span>
                </div>
                <div class='description'>
                  <p>
                  Return a response that has no content (merely headers). The options
                  argument is interpreted to be a hash of header names and values. This
                  allows you to easily return a response that consists only of significant
                  headers:
                  </p>
                  <pre>head :created, :location =&gt; person_path(@person)</pre>
                  <p>
                  It can also be used to return exceptional conditions:
                  </p>
                  <pre>return head(:method_not_allowed) unless request.post?&#x000A;return head(:bad_request) unless valid_request?&#x000A;render</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000661-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000661-source'>      <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/base.rb, line 1005</span>&#x000A;1005:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">head</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)&#x000A;1006:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>&#x000A;1007:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-value str">&quot;too many arguments to head&quot;</span>&#x000A;1008:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">empty?</span>&#x000A;1009:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-value str">&quot;too few arguments to head&quot;</span>&#x000A;1010:         <span class="ruby-keyword kw">end</span>&#x000A;1011:         <span class="ruby-identifier">options</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">extract_options!</span>&#x000A;1012:         <span class="ruby-identifier">status</span> = <span class="ruby-identifier">interpret_status</span>(<span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:status</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">:ok</span>)&#x000A;1013: &#x000A;1014:         <span class="ruby-identifier">options</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>&#x000A;1015:           <span class="ruby-identifier">headers</span>[<span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">dasherize</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp re">/-/</span>).<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">capitalize</span> }.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;-&quot;</span>)] = <span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span>&#x000A;1016:         <span class="ruby-keyword kw">end</span>&#x000A;1017: &#x000A;1018:         <span class="ruby-identifier">render</span> <span class="ruby-identifier">:nothing</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-identifier">:status</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">status</span>&#x000A;1019:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method protected-instance' id='method-M000663'>
                <a name='M000663'></a>
                <div class='synopsis'>
                  <span class='name'>redirect_to</span>
                  <span class='arguments'>(options = {}, response_status = {})</span>
                </div>
                <div class='description'>
                  <p>
                  Redirects the browser to the target specified in <tt>options</tt>. This
                  parameter can take one of three forms:
                  </p>
                  <ul>
                  <li><tt>Hash</tt> - The URL will be generated by calling <a
                  href="Base.html#M000650">url_for</a> with the <tt>options</tt>.
                  
                  </li>
                  <li><tt>Record</tt> - The URL will be generated by calling <a
                  href="Base.html#M000650">url_for</a> with the <tt>options</tt>, which will
                  reference a named URL for that record.
                  
                  </li>
                  <li><tt>String</tt> starting with <tt>protocol://</tt> (like <tt>http://</tt>)
                  - Is passed straight through as the target for redirection.
                  
                  </li>
                  <li><tt>String</tt> not containing a protocol - The current protocol and host
                  is prepended to the string.
                  
                  </li>
                  <li><tt>:back</tt> - Back to the page that issued the request. Useful for forms
                  that are triggered from multiple places. Short-hand for <tt><a
                  href="Base.html#M000663">redirect_to</a>(request.env[&quot;HTTP_REFERER&quot;])</tt>
                  
                  </li>
                  </ul>
                  <p>
                  Examples:
                  </p>
                  <pre>redirect_to :action =&gt; &quot;show&quot;, :id =&gt; 5&#x000A;redirect_to post&#x000A;redirect_to &quot;http://www.rubyonrails.org&quot;&#x000A;redirect_to &quot;/images/screenshot.jpg&quot;&#x000A;redirect_to articles_url&#x000A;redirect_to :back</pre>
                  <p>
                  The redirection happens as a &#8220;302 Moved&#8221; header unless
                  otherwise specified.
                  </p>
                  <p>
                  Examples:
                  </p>
                  <pre>redirect_to post_url(@post), :status=&gt;:found&#x000A;redirect_to :action=&gt;'atom', :status=&gt;:moved_permanently&#x000A;redirect_to post_url(@post), :status=&gt;301&#x000A;redirect_to :action=&gt;'atom', :status=&gt;302</pre>
                  <p>
                  When using <tt><a href="Base.html#M000663">redirect_to</a> :back</tt>, if
                  there is no referrer, RedirectBackError will be raised. You may specify
                  some fallback behavior for this case by rescuing RedirectBackError.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000663-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000663-source'>      <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/base.rb, line 1094</span>&#x000A;1094:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">redirect_to</span>(<span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">response_status</span> = {}) <span class="ruby-comment cmt">#:doc:</span>&#x000A;1095:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ActionControllerError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;Cannot redirect to nil!&quot;</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">nil?</span>&#x000A;1096: &#x000A;1097:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:status</span>]&#x000A;1098:           <span class="ruby-identifier">status</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:status</span>)&#x000A;1099:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">response_status</span>[<span class="ruby-identifier">:status</span>]&#x000A;1100:           <span class="ruby-identifier">status</span> = <span class="ruby-identifier">response_status</span>[<span class="ruby-identifier">:status</span>]&#x000A;1101:         <span class="ruby-keyword kw">else</span>&#x000A;1102:           <span class="ruby-identifier">status</span> = <span class="ruby-value">302</span>&#x000A;1103:         <span class="ruby-keyword kw">end</span>&#x000A;1104: &#x000A;1105:         <span class="ruby-identifier">response</span>.<span class="ruby-identifier">redirected_to</span> = <span class="ruby-identifier">options</span>&#x000A;1106: &#x000A;1107:         <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">options</span>&#x000A;1108:           <span class="ruby-comment cmt"># The scheme name consist of a letter followed by any combination of</span>&#x000A;1109:           <span class="ruby-comment cmt"># letters, digits, and the plus (&quot;+&quot;), period (&quot;.&quot;), or hyphen (&quot;-&quot;)</span>&#x000A;1110:           <span class="ruby-comment cmt"># characters; and is terminated by a colon (&quot;:&quot;).</span>&#x000A;1111:           <span class="ruby-keyword kw">when</span> <span class="ruby-regexp re">%r{^\w[\w\d+.-]*:.*}</span>&#x000A;1112:             <span class="ruby-identifier">redirect_to_full_url</span>(<span class="ruby-identifier">options</span>, <span class="ruby-identifier">status</span>)&#x000A;1113:           <span class="ruby-keyword kw">when</span> <span class="ruby-constant">String</span>&#x000A;1114:             <span class="ruby-identifier">redirect_to_full_url</span>(<span class="ruby-identifier">request</span>.<span class="ruby-identifier">protocol</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">host_with_port</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">options</span>, <span class="ruby-identifier">status</span>)&#x000A;1115:           <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:back</span>&#x000A;1116:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">referer</span> = <span class="ruby-identifier">request</span>.<span class="ruby-identifier">headers</span>[<span class="ruby-value str">&quot;Referer&quot;</span>]&#x000A;1117:               <span class="ruby-identifier">redirect_to</span>(<span class="ruby-identifier">referer</span>, <span class="ruby-identifier">:status=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">status</span>)&#x000A;1118:             <span class="ruby-keyword kw">else</span>&#x000A;1119:               <span class="ruby-identifier">raise</span> <span class="ruby-constant">RedirectBackError</span>&#x000A;1120:             <span class="ruby-keyword kw">end</span>&#x000A;1121:           <span class="ruby-keyword kw">else</span>&#x000A;1122:             <span class="ruby-identifier">redirect_to_full_url</span>(<span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">options</span>), <span class="ruby-identifier">status</span>)&#x000A;1123:         <span class="ruby-keyword kw">end</span>&#x000A;1124:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method protected-instance' id='method-M000664'>
                <a name='M000664'></a>
                <div class='synopsis'>
                  <span class='name'>redirect_to_full_url</span>
                  <span class='arguments'>(url, status)</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000664-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000664-source'>      <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/base.rb, line 1126</span>&#x000A;1126:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">redirect_to_full_url</span>(<span class="ruby-identifier">url</span>, <span class="ruby-identifier">status</span>)&#x000A;1127:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">DoubleRenderError</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">performed?</span>&#x000A;1128:         <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">info</span>(<span class="ruby-node">&quot;Redirected to #{url}&quot;</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">logger</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">info?</span>&#x000A;1129:         <span class="ruby-identifier">response</span>.<span class="ruby-identifier">redirect</span>(<span class="ruby-identifier">url</span>, <span class="ruby-identifier">interpret_status</span>(<span class="ruby-identifier">status</span>))&#x000A;1130:         <span class="ruby-ivar">@performed_redirect</span> = <span class="ruby-keyword kw">true</span>&#x000A;1131:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method protected-instance' id='method-M000659'>
                <a name='M000659'></a>
                <div class='synopsis'>
                  <span class='name'>render</span>
                  <span class='arguments'>(options = nil, extra_options = {}, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  Renders the content that will be returned to the browser as the response
                  body.
                  </p>
                  <h3>Rendering an action</h3>
                  <p>
                  Action rendering is the most common form and the type used automatically by
                  Action Controller when nothing else is specified. By default, actions are
                  rendered within the current layout (if one exists).
                  </p>
                  <pre># Renders the template for the action &quot;goal&quot; within the current controller&#x000A;render :action =&gt; &quot;goal&quot;&#x000A;&#x000A;# Renders the template for the action &quot;short_goal&quot; within the current controller,&#x000A;# but without the current active layout&#x000A;render :action =&gt; &quot;short_goal&quot;, :layout =&gt; false&#x000A;&#x000A;# Renders the template for the action &quot;long_goal&quot; within the current controller,&#x000A;# but with a custom layout&#x000A;render :action =&gt; &quot;long_goal&quot;, :layout =&gt; &quot;spectacular&quot;</pre>
                  <h3>Rendering partials</h3>
                  <p>
                  Partial rendering in a controller is most commonly used together with Ajax
                  calls that only update one or a few elements on a page without reloading.
                  Rendering of partials from the controller makes it possible to use the same
                  partial template in both the full-page rendering (by calling it from within
                  the template) and when sub-page updates happen (from the controller action
                  responding to Ajax calls). By default, the current layout is not used.
                  </p>
                  <pre># Renders the same partial with a local variable.&#x000A;render :partial =&gt; &quot;person&quot;, :locals =&gt; { :name =&gt; &quot;david&quot; }&#x000A;&#x000A;# Renders the partial, making @new_person available through&#x000A;# the local variable 'person'&#x000A;render :partial =&gt; &quot;person&quot;, :object =&gt; @new_person&#x000A;&#x000A;# Renders a collection of the same partial by making each element&#x000A;# of @winners available through the local variable &quot;person&quot; as it&#x000A;# builds the complete response.&#x000A;render :partial =&gt; &quot;person&quot;, :collection =&gt; @winners&#x000A;&#x000A;# Renders a collection of partials but with a custom local variable name&#x000A;render :partial =&gt; &quot;admin_person&quot;, :collection =&gt; @winners, :as =&gt; :person&#x000A;&#x000A;# Renders the same collection of partials, but also renders the&#x000A;# person_divider partial between each person partial.&#x000A;render :partial =&gt; &quot;person&quot;, :collection =&gt; @winners, :spacer_template =&gt; &quot;person_divider&quot;&#x000A;&#x000A;# Renders a collection of partials located in a view subfolder&#x000A;# outside of our current controller.  In this example we will be&#x000A;# rendering app/views/shared/_note.r(html|xml)  Inside the partial&#x000A;# each element of @new_notes is available as the local var &quot;note&quot;.&#x000A;render :partial =&gt; &quot;shared/note&quot;, :collection =&gt; @new_notes&#x000A;&#x000A;# Renders the partial with a status code of 500 (internal error).&#x000A;render :partial =&gt; &quot;broken&quot;, :status =&gt; 500</pre>
                  <p>
                  Note that the partial filename must also be a valid Ruby variable name, so
                  e.g. 2005 and register-user are invalid.
                  </p>
                  <h2>Automatic etagging</h2>
                  <p>
                  Rendering will automatically insert the etag header on 200 OK responses.
                  The etag is calculated using MD5 of the response body. If a request comes
                  in that has a matching etag, the response will be changed to a 304 Not
                  Modified and the response body will be set to an empty string. No etag
                  header will be inserted if it&#8217;s already set.
                  </p>
                  <h3>Rendering a template</h3>
                  <p>
                  Template rendering works just like action rendering except that it takes a
                  path relative to the template root. The current layout is automatically
                  applied.
                  </p>
                  <pre># Renders the template located in [TEMPLATE_ROOT]/weblog/show.r(html|xml) (in Rails, app/views/weblog/show.erb)&#x000A;render :template =&gt; &quot;weblog/show&quot;&#x000A;&#x000A;# Renders the template with a local variable&#x000A;render :template =&gt; &quot;weblog/show&quot;, :locals =&gt; {:customer =&gt; Customer.new}</pre>
                  <h3>Rendering a file</h3>
                  <p>
                  File rendering works just like action rendering except that it takes a
                  filesystem path. By default, the path is assumed to be absolute, and the
                  current layout is not applied.
                  </p>
                  <pre># Renders the template located at the absolute filesystem path&#x000A;render :file =&gt; &quot;/path/to/some/template.erb&quot;&#x000A;render :file =&gt; &quot;c:/path/to/some/template.erb&quot;&#x000A;&#x000A;# Renders a template within the current layout, and with a 404 status code&#x000A;render :file =&gt; &quot;/path/to/some/template.erb&quot;, :layout =&gt; true, :status =&gt; 404&#x000A;render :file =&gt; &quot;c:/path/to/some/template.erb&quot;, :layout =&gt; true, :status =&gt; 404</pre>
                  <h3>Rendering text</h3>
                  <p>
                  Rendering of text is usually used for tests or for rendering prepared
                  content, such as a cache. By default, text rendering is not done within the
                  active layout.
                  </p>
                  <pre># Renders the clear text &quot;hello world&quot; with status code 200&#x000A;render :text =&gt; &quot;hello world!&quot;&#x000A;&#x000A;# Renders the clear text &quot;Explosion!&quot;  with status code 500&#x000A;render :text =&gt; &quot;Explosion!&quot;, :status =&gt; 500&#x000A;&#x000A;# Renders the clear text &quot;Hi there!&quot; within the current active layout (if one exists)&#x000A;render :text =&gt; &quot;Hi there!&quot;, :layout =&gt; true&#x000A;&#x000A;# Renders the clear text &quot;Hi there!&quot; within the layout&#x000A;# placed in &quot;app/views/layouts/special.r(html|xml)&quot;&#x000A;render :text =&gt; &quot;Hi there!&quot;, :layout =&gt; &quot;special&quot;</pre>
                  <h3><a href="Streaming.html">Streaming</a> data and/or controlling the page generation</h3>
                  <p>
                  The <tt>:text</tt> option can also accept a Proc object, which can be used
                  to:
                  </p>
                  <ol>
                  <li>stream on-the-fly generated data to the browser. Note that you should use
                  the methods provided by ActionController::Steaming instead if you want to
                  stream a buffer or a file.
                  
                  </li>
                  <li>manually control the page generation. This should generally be avoided, as
                  it violates the separation between code and content, and because almost
                  everything that can be done with this method can also be done more cleanly
                  using one of the other rendering methods, most notably templates.
                  
                  </li>
                  </ol>
                  <p>
                  Two arguments are passed to the proc, a <tt>response</tt> object and an
                  <tt>output</tt> object. The response object is equivalent to the return
                  value of the ActionController::Base#response method, and can be used to
                  control various things in the HTTP response, such as setting the
                  Content-Type header. The output object is an writable <tt>IO</tt>-like
                  object, so one can call <tt>write</tt> and <tt>flush</tt> on it.
                  </p>
                  <p>
                  The following example demonstrates how one can stream a large amount of
                  on-the-fly generated data to the browser:
                  </p>
                  <pre># Streams about 180 MB of generated data to the browser.&#x000A;render :text =&gt; proc { |response, output|&#x000A;  10_000_000.times do |i|&#x000A;    output.write(&quot;This is line #{i}\n&quot;)&#x000A;    output.flush&#x000A;  end&#x000A;}</pre>
                  <p>
                  Another example:
                  </p>
                  <pre># Renders &quot;Hello from code!&quot;&#x000A;render :text =&gt; proc { |response, output| output.write(&quot;Hello from code!&quot;) }</pre>
                  <h3>Rendering XML</h3>
                  <p>
                  Rendering XML sets the content type to application/xml.
                  </p>
                  <pre># Renders '&lt;name&gt;David&lt;/name&gt;'&#x000A;render :xml =&gt; {:name =&gt; &quot;David&quot;}.to_xml</pre>
                  <p>
                  It&#8217;s not necessary to call <tt>to_xml</tt> on the object you want to
                  render, since <tt>render</tt> will automatically do that for you:
                  </p>
                  <pre># Also renders '&lt;name&gt;David&lt;/name&gt;'&#x000A;render :xml =&gt; {:name =&gt; &quot;David&quot;}</pre>
                  <h3>Rendering JSON</h3>
                  <p>
                  Rendering JSON sets the content type to application/json and optionally
                  wraps the JSON in a callback. It is expected that the response will be
                  parsed (or eval&#8217;d) for use as a data structure.
                  </p>
                  <pre># Renders '{&quot;name&quot;: &quot;David&quot;}'&#x000A;render :json =&gt; {:name =&gt; &quot;David&quot;}.to_json</pre>
                  <p>
                  It&#8217;s not necessary to call <tt>to_json</tt> on the object you want to
                  render, since <tt>render</tt> will automatically do that for you:
                  </p>
                  <pre># Also renders '{&quot;name&quot;: &quot;David&quot;}'&#x000A;render :json =&gt; {:name =&gt; &quot;David&quot;}</pre>
                  <p>
                  Sometimes the result isn&#8217;t handled directly by a script (such as when
                  the request comes from a SCRIPT tag), so the <tt>:callback</tt> option is
                  provided for these cases.
                  </p>
                  <pre># Renders 'show({&quot;name&quot;: &quot;David&quot;})'&#x000A;render :json =&gt; {:name =&gt; &quot;David&quot;}.to_json, :callback =&gt; 'show'</pre>
                  <h3>Rendering an inline template</h3>
                  <p>
                  Rendering of an inline template works as a cross between text and action
                  rendering where the source for the template is supplied inline, like text,
                  but its interpreted with ERb or <a href="../Builder.html">Builder</a>, like
                  action. By default, ERb is used for rendering and the current layout is not
                  used.
                  </p>
                  <pre># Renders &quot;hello, hello, hello, again&quot;&#x000A;render :inline =&gt; &quot;&lt;%= 'hello, ' * 3 + 'again' %&gt;&quot;&#x000A;&#x000A;# Renders &quot;&lt;p&gt;Good seeing you!&lt;/p&gt;&quot; using Builder&#x000A;render :inline =&gt; &quot;xml.p { 'Good seeing you!' }&quot;, :type =&gt; :builder&#x000A;&#x000A;# Renders &quot;hello david&quot;&#x000A;render :inline =&gt; &quot;&lt;%= 'hello ' + name %&gt;&quot;, :locals =&gt; { :name =&gt; &quot;david&quot; }</pre>
                  <h3>Rendering inline JavaScriptGenerator page updates</h3>
                  <p>
                  In addition to rendering JavaScriptGenerator page updates with Ajax in RJS
                  templates (see <a href="../ActionView/Base.html">ActionView::Base</a> for
                  details), you can also pass the <tt>:update</tt> parameter to
                  <tt>render</tt>, along with a block, to render page updates inline.
                  </p>
                  <pre>render :update do |page|&#x000A;  page.replace_html  'user_list', :partial =&gt; 'user', :collection =&gt; @users&#x000A;  page.visual_effect :highlight, 'user_list'&#x000A;end</pre>
                  <h3>Rendering vanilla JavaScript</h3>
                  <p>
                  In addition to using RJS with render :update, you can also just render
                  vanilla JavaScript with :js.
                  </p>
                  <pre># Renders &quot;alert('hello')&quot; and sets the mime type to text/javascript&#x000A;render :js =&gt; &quot;alert('hello')&quot;</pre>
                  <h3>Rendering with status and location headers</h3>
                  <p>
                  All renders take the <tt>:status</tt> and <tt>:location</tt> options and
                  turn them into headers. They can even be used together:
                  </p>
                  <pre>render :xml =&gt; post.to_xml, :status =&gt; :created, :location =&gt; post_url(post)</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000659-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000659-source'>     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/base.rb, line 891</span>&#x000A;891:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">render</span>(<span class="ruby-identifier">options</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">extra_options</span> = {}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment cmt">#:doc:</span>&#x000A;892:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">DoubleRenderError</span>, <span class="ruby-value str">&quot;Can only render or redirect once per action&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">performed?</span>&#x000A;893: &#x000A;894:         <span class="ruby-identifier">validate_render_arguments</span>(<span class="ruby-identifier">options</span>, <span class="ruby-identifier">extra_options</span>, <span class="ruby-identifier">block_given?</span>)&#x000A;895: &#x000A;896:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">nil?</span>&#x000A;897:           <span class="ruby-identifier">options</span> = { <span class="ruby-identifier">:template</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">default_template</span>, <span class="ruby-identifier">:layout</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span> }&#x000A;898:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">options</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:update</span>&#x000A;899:           <span class="ruby-identifier">options</span> = <span class="ruby-identifier">extra_options</span>.<span class="ruby-identifier">merge</span>({ <span class="ruby-identifier">:update</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span> })&#x000A;900:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Symbol</span>)&#x000A;901:           <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">index</span>(<span class="ruby-value str">'/'</span>)&#x000A;902:           <span class="ruby-keyword kw">when</span> <span class="ruby-value">0</span>&#x000A;903:             <span class="ruby-identifier">extra_options</span>[<span class="ruby-identifier">:file</span>] = <span class="ruby-identifier">options</span>&#x000A;904:           <span class="ruby-keyword kw">when</span> <span class="ruby-keyword kw">nil</span>&#x000A;905:             <span class="ruby-identifier">extra_options</span>[<span class="ruby-identifier">:action</span>] = <span class="ruby-identifier">options</span>&#x000A;906:           <span class="ruby-keyword kw">else</span>&#x000A;907:             <span class="ruby-identifier">extra_options</span>[<span class="ruby-identifier">:template</span>] = <span class="ruby-identifier">options</span>&#x000A;908:           <span class="ruby-keyword kw">end</span>&#x000A;909: &#x000A;910:           <span class="ruby-identifier">options</span> = <span class="ruby-identifier">extra_options</span>&#x000A;911:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-operator">!</span><span class="ruby-identifier">options</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)&#x000A;912:           <span class="ruby-identifier">extra_options</span>[<span class="ruby-identifier">:partial</span>] = <span class="ruby-identifier">options</span>&#x000A;913:           <span class="ruby-identifier">options</span> = <span class="ruby-identifier">extra_options</span>&#x000A;914:         <span class="ruby-keyword kw">end</span>&#x000A;915: &#x000A;916:         <span class="ruby-identifier">layout</span> = <span class="ruby-identifier">pick_layout</span>(<span class="ruby-identifier">options</span>)&#x000A;917:         <span class="ruby-identifier">response</span>.<span class="ruby-identifier">layout</span> = <span class="ruby-identifier">layout</span>.<span class="ruby-identifier">path_without_format_and_extension</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">layout</span>&#x000A;918:         <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">info</span>(<span class="ruby-node">&quot;Rendering template within #{layout.path_without_format_and_extension}&quot;</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">logger</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">layout</span>&#x000A;919: &#x000A;920:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">content_type</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:content_type</span>]&#x000A;921:           <span class="ruby-identifier">response</span>.<span class="ruby-identifier">content_type</span> = <span class="ruby-identifier">content_type</span>.<span class="ruby-identifier">to_s</span>&#x000A;922:         <span class="ruby-keyword kw">end</span>&#x000A;923: &#x000A;924:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">location</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:location</span>]&#x000A;925:           <span class="ruby-identifier">response</span>.<span class="ruby-identifier">headers</span>[<span class="ruby-value str">&quot;Location&quot;</span>] = <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">location</span>)&#x000A;926:         <span class="ruby-keyword kw">end</span>&#x000A;927: &#x000A;928:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">:text</span>)&#x000A;929:           <span class="ruby-identifier">text</span> = <span class="ruby-identifier">layout</span> <span class="ruby-value">? </span><span class="ruby-ivar">@template</span>.<span class="ruby-identifier">render</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:text</span>], <span class="ruby-identifier">:layout</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">layout</span>)) <span class="ruby-operator">:</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:text</span>]&#x000A;930:           <span class="ruby-identifier">render_for_text</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:status</span>])&#x000A;931: &#x000A;932:         <span class="ruby-keyword kw">else</span>&#x000A;933:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">file</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:file</span>]&#x000A;934:             <span class="ruby-identifier">render_for_file</span>(<span class="ruby-identifier">file</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:status</span>], <span class="ruby-identifier">layout</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:locals</span>] <span class="ruby-operator">||</span> {})&#x000A;935: &#x000A;936:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">template</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:template</span>]&#x000A;937:             <span class="ruby-identifier">render_for_file</span>(<span class="ruby-identifier">template</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:status</span>], <span class="ruby-identifier">layout</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:locals</span>] <span class="ruby-operator">||</span> {})&#x000A;938: &#x000A;939:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">inline</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:inline</span>]&#x000A;940:             <span class="ruby-identifier">render_for_text</span>(<span class="ruby-ivar">@template</span>.<span class="ruby-identifier">render</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:layout</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">layout</span>)), <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:status</span>])&#x000A;941: &#x000A;942:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">action_name</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:action</span>]&#x000A;943:             <span class="ruby-identifier">render_for_file</span>(<span class="ruby-identifier">default_template</span>(<span class="ruby-identifier">action_name</span>.<span class="ruby-identifier">to_s</span>), <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:status</span>], <span class="ruby-identifier">layout</span>)&#x000A;944: &#x000A;945:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">xml</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:xml</span>]&#x000A;946:             <span class="ruby-identifier">response</span>.<span class="ruby-identifier">content_type</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>&#x000A;947:             <span class="ruby-identifier">render_for_text</span>(<span class="ruby-identifier">xml</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:to_xml</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">to_xml</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">xml</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:status</span>])&#x000A;948: &#x000A;949:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">js</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:js</span>]&#x000A;950:             <span class="ruby-identifier">response</span>.<span class="ruby-identifier">content_type</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">JS</span>&#x000A;951:             <span class="ruby-identifier">render_for_text</span>(<span class="ruby-identifier">js</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:status</span>])&#x000A;952: &#x000A;953:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">json</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:json</span>]&#x000A;954:             <span class="ruby-identifier">json</span> = <span class="ruby-identifier">json</span>.<span class="ruby-identifier">to_json</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">json</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)&#x000A;955:             <span class="ruby-identifier">json</span> = <span class="ruby-node">&quot;#{options[:callback]}(#{json})&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:callback</span>].<span class="ruby-identifier">blank?</span>&#x000A;956:             <span class="ruby-identifier">response</span>.<span class="ruby-identifier">content_type</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">JSON</span>&#x000A;957:             <span class="ruby-identifier">render_for_text</span>(<span class="ruby-identifier">json</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:status</span>])&#x000A;958: &#x000A;959:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:partial</span>]&#x000A;960:             <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:partial</span>] = <span class="ruby-identifier">default_template_name</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:partial</span>] <span class="ruby-operator">==</span> <span class="ruby-keyword kw">true</span>&#x000A;961:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">layout</span>&#x000A;962:               <span class="ruby-identifier">render_for_text</span>(<span class="ruby-ivar">@template</span>.<span class="ruby-identifier">render</span>(<span class="ruby-identifier">:text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@template</span>.<span class="ruby-identifier">render</span>(<span class="ruby-identifier">options</span>), <span class="ruby-identifier">:layout</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">layout</span>), <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:status</span>])&#x000A;963:             <span class="ruby-keyword kw">else</span>&#x000A;964:               <span class="ruby-identifier">render_for_text</span>(<span class="ruby-ivar">@template</span>.<span class="ruby-identifier">render</span>(<span class="ruby-identifier">options</span>), <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:status</span>])&#x000A;965:             <span class="ruby-keyword kw">end</span>&#x000A;966: &#x000A;967:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:update</span>]&#x000A;968:             <span class="ruby-ivar">@template</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:_evaluate_assigns_and_ivars</span>)&#x000A;969: &#x000A;970:             <span class="ruby-identifier">generator</span> = <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">PrototypeHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">JavaScriptGenerator</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@template</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;971:             <span class="ruby-identifier">response</span>.<span class="ruby-identifier">content_type</span> = <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">JS</span>&#x000A;972:             <span class="ruby-identifier">render_for_text</span>(<span class="ruby-identifier">generator</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:status</span>])&#x000A;973: &#x000A;974:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:nothing</span>]&#x000A;975:             <span class="ruby-identifier">render_for_text</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:status</span>])&#x000A;976: &#x000A;977:           <span class="ruby-keyword kw">else</span>&#x000A;978:             <span class="ruby-identifier">render_for_file</span>(<span class="ruby-identifier">default_template</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:status</span>], <span class="ruby-identifier">layout</span>)&#x000A;979:           <span class="ruby-keyword kw">end</span>&#x000A;980:         <span class="ruby-keyword kw">end</span>&#x000A;981:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method protected-instance' id='method-M000660'>
                <a name='M000660'></a>
                <div class='synopsis'>
                  <span class='name'>render_to_string</span>
                  <span class='arguments'>(options = nil, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  Renders according to the same rules as <tt>render</tt>, but returns the
                  result in a string instead of sending it as the response body to the
                  browser.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000660-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000660-source'>     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/base.rb, line 985</span>&#x000A;985:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">render_to_string</span>(<span class="ruby-identifier">options</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment cmt">#:doc:</span>&#x000A;986:         <span class="ruby-identifier">render</span>(<span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;987:       <span class="ruby-keyword kw">ensure</span>&#x000A;988:         <span class="ruby-identifier">response</span>.<span class="ruby-identifier">content_type</span> = <span class="ruby-keyword kw">nil</span>&#x000A;989:         <span class="ruby-identifier">erase_render_results</span>&#x000A;990:         <span class="ruby-identifier">reset_variables_added_to_assigns</span>&#x000A;991:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method protected-instance' id='method-M000669'>
                <a name='M000669'></a>
                <div class='synopsis'>
                  <span class='name'>reset_session</span>
                  <span class='arguments'>(</span>
                </div>
                <div class='description'>
                  <p>
                  Resets the session by clearing out all the objects stored within and
                  initializing a new session object.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000669-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000669-source'>      <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/base.rb, line 1232</span>&#x000A;1232:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reset_session</span> <span class="ruby-comment cmt">#:doc:</span>&#x000A;1233:         <span class="ruby-identifier">request</span>.<span class="ruby-identifier">reset_session</span>&#x000A;1234:         <span class="ruby-ivar">@_session</span> = <span class="ruby-identifier">request</span>.<span class="ruby-identifier">session</span>&#x000A;1235:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method protected-instance' id='method-M000665'>
                <a name='M000665'></a>
                <div class='synopsis'>
                  <span class='name'>stale?</span>
                  <span class='arguments'>(options)</span>
                </div>
                <div class='description'>
                  <p>
                  Sets the etag and/or last_modified on the response and checks it against
                  the client request. If the request doesn&#8217;t match the options
                  provided, the request is considered stale and should be generated from
                  scratch. Otherwise, it&#8217;s fresh and we don&#8217;t need to generate
                  anything and a reply of &#8220;304 Not Modified&#8221; is sent.
                  </p>
                  <p>
                  Parameters:
                  </p>
                  <ul>
                  <li><tt>:etag</tt>
                  
                  </li>
                  <li><tt>:last_modified</tt>
                  
                  </li>
                  <li><tt>:public</tt> By default the Cache-Control header is private, set this
                  to true if you want your application to be cachable by other devices (proxy
                  caches).
                  
                  </li>
                  </ul>
                  <p>
                  Example:
                  </p>
                  <pre>def show&#x000A;  @article = Article.find(params[:id])&#x000A;&#x000A;  if stale?(:etag =&gt; @article, :last_modified =&gt; @article.created_at.utc)&#x000A;    @statistics = @article.really_expensive_call&#x000A;    respond_to do |format|&#x000A;      # all the supported formats&#x000A;    end&#x000A;  end&#x000A;end</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000665-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000665-source'>      <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_controller/base.rb, line 1155</span>&#x000A;1155:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">stale?</span>(<span class="ruby-identifier">options</span>)&#x000A;1156:         <span class="ruby-identifier">fresh_when</span>(<span class="ruby-identifier">options</span>)&#x000A;1157:         <span class="ruby-operator">!</span><span class="ruby-identifier">request</span>.<span class="ruby-identifier">fresh?</span>(<span class="ruby-identifier">response</span>)&#x000A;1158:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
